var shortcode_docs,builder_helper=this.ec_builder_helper||(this.ec_builder_helper={}),ec_utils_helper=builder_helper.Utils||(builder_helper.Utils={}),ec_functions_helper=builder_helper.Functions||(builder_helper.Functions={}),ec_settings_helper=builder_helper.Settings||(builder_helper.Settings={}),ec_templates_helper=builder_helper.Templates||(builder_helper.Templates={}),make_image_proper_size=function(){var e=jQuery("#settings-email-width").val();jQuery(".image-a").each(function(){jQuery(this).find(".img").css("max-width",e+"px")})},jsonParse=function(e){var t=e;try{t=JSON.parse(e)}catch(e){}return t},ec_woo_debug=!1,shortcode_list={},generate_shortcode_for_all_text=function(){jQuery('.ec-preview-content-sortable-column[data-settings-type="text"]').each(function(){var e=jQuery(this).find(".ec-preview-content-sortable-column-body"),t=do_shortcode(e.html());e.html(t)})},generate_shortcode=function(e,t){return'<span data-shortcode="'+e+'">'+t+"</span>"},check_has_shortcode=function(e){return!!/ec_woo_related_items/.test(e)||(!!/type='([^"]*)'/.test(e)||void 0)},do_shortcode=function(e){var t=(e=(e=e.split("<p").join("<div")).split("</p>").join("</div>")).match(/\[([\w-]+)([^]*?)(\/?)\]/g);for(var a in t)!function(){var n=t[a];if(!0===!!check_has_shortcode(n)){var r={action:"generate_shortcode",shortcode:n.split("'").join('"')};ajax_request(r,function(t){shortcode_list[n]=t.data;var a=generate_shortcode(n,shortcode_list[i]);e=_join(e.split(i),a)})}}();for(var i in shortcode_list)if(e.indexOf(i)>-1){var n=generate_shortcode(i,shortcode_list[i]);e=_join(e.split(i),n)}return e},_join=function(e,t){for(var a="",i=0;i<e.length;i++)e[i].length>0&&(a+=e[i]),i!=e.length-1&&(a+=t);return a},ajax_request=function(e,t,a){var i=woo_ec_vars.ajax_url;e.development=1==ec_woo_debug?1:0;var n=jQuery.post(i,e);n.done(function(e){ec_woo_debug&&console.log("jqxhr.done",e),200==(e=jsonParse(e)).code?void 0!==t&&t(e):(void 0!==a&&a(e),iziToast.error({title:"Error",message:e.message,position:"bottomRight"}))}),n.fail(function(e){ec_woo_debug&&console.log("jqxhr.fail",e),iziToast.error({title:"Request failed",message:"Please check <b>logs</b> in the plugin's folder",position:"bottomRight"}),void 0!==a&&a(e)})},enable_save_template=function(){jQuery(".ec-preview-header-control-item.ec-control-save").removeClass("ec-control-save-disabled")},scrollTop=function(){setTimeout(function(){window.scrollTo(0,0)},200)},builder=this.ec_builder||(this.ec_builder={}),utils=builder.Utils||(builder.Utils={}),functions=builder.Functions||(builder.Functions={}),settings=builder.Settings||(builder.Settings={}),templates=builder.Templates||(builder.Templates={});jQuery(document).on("click",".ec-activate-modal",function(){jQuery(".ec-activate-updates-skip-container").hide(),jQuery("#modal-activate").fadeIn()}),jQuery(function(){jQuery("body").addClass("ec-body"),jQuery("#footer-thankyou,#footer-upgrade").remove(),jQuery("#ec_woo_order").change(),setTimeout(function(){jQuery("#ec_woo_save_as_lang").addClass("ec-modal-input"),jQuery("#ec_woo_save_as_lang").css("width","30%")},100),1==woo_ec_vars.show_activate_updates&&jQuery("#modal-activate").fadeIn();var e=jQuery("#wpadminbar").height()+jQuery(".ec-builder-header").height();if(jQuery(".ec-preview").css("margin-top",e+"px"),scrollTop(),woo_ec_vars.is_demo){var t=introJs();t.setOptions({showProgress:!1}),t.start()}var a=jQuery(".ec-builder-header").height()+jQuery("#wpadminbar").height(),i=jQuery(window).height(),n=Math.floor(100*(i-a)/i);jQuery(".ec-wrapper .ec-preview-content").css("height",n-2+"vh"),setTimeout(function(){jQuery(".rangeSlider").remove(),jQuery(".ec-panel-settings-slider").attr("style","")},500)}),jQuery(document).on("change",".ec-settings-menu",function(){var e=jQuery(this).val();ajax_request({action:"save_panel_position",position:e},function(){iziToast.success({title:"Success!",message:"Saved panel position",position:"bottomRight"}),jQuery(".ec-builder-header").attr("style",""),jQuery(".ec-panel").attr("style",""),"left"===e?jQuery(".ec-wrapper").removeClass("ec-panel-right"):(jQuery(".ec-wrapper").addClass("ec-panel-right"),jQuery(".ec-preview").css("margin-left",""))})}),jQuery(document).on("click",".ec-modal-library-grid-item .ec-modal-library-grid-row",function(){var e=jQuery(this).parent(),t=e.find(".ec-modal-library-grid-item-list");e.hasClass("collapsed")?t.slideDown(300,function(){e.removeClass("collapsed")}):t.slideUp(300,function(){e.addClass("collapsed")})}),jQuery(document).on("click","#settings-image-change",function(){if(void 0===e){var e=wp.media({title:"Select a media",library:{type:"image"},multiple:!1,button:{text:"Select"}});e.on("select",function(){var t=e.state().get("selection").first().toJSON();jQuery("#settings-image-source-url").val(t.url),jQuery("#settings-image-source-url").change()})}e.open()}),jQuery(document).on("click",".ec-modal-input-container.active #ec-import-submit",function(){var e=jQuery(this);if(e.hasClass("ec-clicked"))return!1;var t=e.find(".ec-modal-input-submit-label"),a=e.find(".ec-modal-input-submit-loading");e.addClass("ec-clicked"),t.hide(),a.show();var i=jQuery("#import-file").prop("files")[0],n=woo_ec_vars.ajax_url,r=new FormData;r.append("import_file",i),r.append("action","import_json"),jQuery.ajax({url:n,dataType:"json",cache:!1,contentType:!1,processData:!1,data:r,type:"post",success:function(i){data=jsonParse(i.data),functions.import_json(data,!0),jQuery("#modal-import").fadeOut(),e.removeClass("ec-clicked"),t.show(),a.hide(),changeImgWidthOnLoadedTemplate()}})}),jQuery(document).on("click",".ec-modal-input-container.active #ec-import-all-submit",function(){var e=jQuery(this);if(e.hasClass("ec-clicked"))return!1;var t=e.find(".ec-modal-input-submit-label"),a=e.find(".ec-modal-input-submit-loading"),i=jQuery("#ec-import-all-file-error");e.addClass("ec-clicked"),t.hide(),a.show();var n=jQuery("#import-all-file").prop("files")[0],r=woo_ec_vars.ajax_url,o=new FormData;o.append("import_file",n),o.append("action","import_all"),jQuery.ajax({url:r,dataType:"json",cache:!1,contentType:!1,processData:!1,data:o,type:"post",success:function(n){data=jsonParse(n),200!=data.code&&(t.show(),a.hide(),i.text("Could not read JSON file"),i.show()),jQuery("#modal-import-all").fadeOut(),e.removeClass("ec-clicked"),t.show(),a.hide()}})}),jQuery(document).on("click","#ec-email-submit",function(){var e=jQuery(this);if(e.hasClass("ec-clicked"))return!1;var t=jQuery("#ec-email-address");if(""==t.val())return t.addClass("ec-modal-input-has-error"),!1;t.removeClass("ec-modal-input-has-error");var a=jQuery(".ec-modal-input-submit-loading"),i=jQuery(".ec-modal-input-submit-label"),n=functions.export_html(!1),r={action:"send_email",email:t.val(),lang:jQuery("#ec_woo_lang").val(),order_id:jQuery("#ec_woo_order").val(),email_type:jQuery("#ec_woo_type").val(),html:n};i.hide(),a.show(),e.addClass("ec-clicked"),ajax_request(r,function(){iziToast.success({title:"Sent email!",message:"Please check your email address",position:"bottomRight"}),i.show(),a.hide(),e.removeClass("ec-clicked"),jQuery("#modal-send-email").fadeOut()},function(){i.show(),a.hide(),e.removeClass("ec-clicked")})});var isScrolling,__load_template=function(){jQuery(".ec-tab-styles").hasClass("ec-active")&&jQuery(".ec-panel-header-icon").click(),jQuery(".ec-preview").addClass("ec-loading"),jQuery(".ec-preview-content-wrapper").hide();var e={action:"template_load",lang:jQuery("#ec_woo_lang").val(),type:jQuery("#ec_woo_type").val(),order_id:jQuery("#ec_woo_order").val()};ajax_request(e,function(e){shortcode_list=e.shortcode_data,shortcode_docs=e.shortcode_json,"1"==e.replace_email?jQuery("#ec-settings-replace-mail-for-type").prop("checked",!0):jQuery("#ec-settings-replace-mail-for-type").prop("checked",!1),settings.tinymce_tags=jsonParse(e.shortcode_json),functions.tinymce_generate(e.shortcode_json),functions.settings_text_helper();for(var t=0;t<utils.loadFuntions.length;t++)utils.loadFuntions[t]();var a=e.email;null!=a&&a.length>0?(functions.import_json(jsonParse(a),!0),generate_shortcode_for_all_text()):utils.load_default_row(),jQuery(".ec-preview-content-wrapper").show(),jQuery(".ec-preview").removeClass("ec-loading"),changeImgWidthOnLoadedTemplate()})},changeImgWidthOnLoadedTemplate=function(){jQuery("#settings-email-width").change()};function check_email_rtl_support(){jQuery("#ec-settings-rtl").is(":checked")?(jQuery(".ec-preview-content-body *").attr("dir","rtl"),jQuery(".woo-items-list-5 *").removeAttr("dir"),jQuery(".woo-items-list-5").attr("dir","rtl")):(jQuery(".ec-preview-content-body *").attr("dir","ltr"),jQuery(".woo-items-list-5 *").removeAttr("dir"),jQuery(".woo-items-list-5").attr("dir","ltr"))}jQuery(document).on("change","#ec_woo_type",function(){var e=jQuery("#ec_woo_type");""!=e.val()&&(__load_template(),e.find('option[value=""]').remove(),enable_save_template(),check_email_rtl_support(),jQuery(".ec-woo-replace-email-type").text("'"+jQuery("#ec_woo_type option:selected").text().trim()+"'")),jQuery('.ec-panel-tab-content-item[data-tab="settings"] .ec-panel-settings-item').addClass("collapsed"),jQuery('.ec-panel-tab-content-item[data-tab="settings"] .ec-panel-settings-content').hide(),jQuery("#ec-woo-email-settings-panel").removeClass("collapsed").addClass("active"),jQuery("#ec-woo-email-settings-panel .ec-panel-settings-content").show()}),jQuery(document).on("change","#ec_woo_order",function(){__load_template()}),jQuery(document).on("change","#ec_woo_lang",function(){__load_template()}),jQuery(document).on("click",".ec-preview-header-control-item.ec-control-save",function(){if(1==woo_ec_vars.is_demo)return alert("DEMO ! You cannot change it !"),!1;var e=jQuery(this);if(e.hasClass("ec-control-save-disabled"))return!1;var t=jQuery(".ec-save-loading"),a=jQuery(".ec-save-label");e.addClass("ec-control-save-disabled");var i=functions.export_json(),n={action:"template_save",lang:jQuery("#ec_woo_lang").val(),type:jQuery("#ec_woo_type").val(),email:i};a.hide(),t.show(),ajax_request(n,function(i){a.show(),t.hide(),e.removeClass("ec-control-save-disabled"),iziToast.success({title:"Success!",message:"Template saved successfully",position:"bottomRight"})})}),jQuery(document).on("click","#ec-modal-template-save",function(){var e=jQuery(this);if(e.hasClass("ec-clicked"))return!1;var t=e.find(".ec-modal-input-submit-label"),a=e.find(".ec-modal-input-submit-loading"),i=jQuery("#ec-modal-template-name");if(0==i.val().length)return i.addClass("ec-modal-input-has-error"),!1;i.removeClass("ec-modal-input-has-error"),e.addClass("ec-clicked"),t.hide(),a.show();var n={action:"template_new_save",email:functions.export_json(),name:i.val()};ajax_request(n,function(n){load_saved_templates(function(){jQuery("#modal-save").hide(),jQuery("#modal-library .ec-modal-library-content").show(),jQuery("#modal-library .ec-modal-library-preview").hide(),jQuery("#modal-library").show(),jQuery('.ec-modal-library-tabs-item[data-content="#modal-library-my-templates"]').click(),i.val(""),e.removeClass("ec-clicked"),t.show(),a.hide()})})}),jQuery(document).on("click",".ec-modal-library-grid-action-item.ec-modal-library-grid-action-delete",function(){var e=jQuery(this).parents(".ec-modal-library-grid-row"),t=e.find(".ec-modal-library-grid-action-list"),a=e.find(".ec-modal-library-grid-action-loading");t.hide(),a.show();var i={action:"template_delete_saved",id:e.attr("data-id")};ajax_request(i,function(t){iziToast.success({title:"SUCCESS",message:"Template deleted",position:"bottomRight"}),e.remove()},function(){t.show(),a.hide()})}),jQuery(document).on("click",".ec-modal-library-grid-action-item.ec-modal-library-grid-action-insert",function(){var e=jQuery(this).parents(".ec-modal-library-grid-row"),t=e.find(".ec-modal-library-grid-action-list"),a=e.find(".ec-modal-library-grid-action-loading"),i=jQuery("#modal-library"),n=e.attr("data-id");t.hide(),a.show(),setTimeout(function(){var e=jsonParse(utils.saved_templates.where(n)[0].data);functions.import_json(e,!0),generate_shortcode_for_all_text(),t.show(),a.hide(),i.fadeOut()},300)}),jQuery(document).on("click","#ec-modal-template-save-as",function(){var e=jQuery(this),t=jQuery("#ec_woo_save_as_email_type"),a=jQuery("#ec_woo_save_as_lang");if(e.hasClass("ec-clicked"))return!1;var i=!1;if(""==t.val()&&(i=!0,t.addClass("ec-modal-input-has-error")),1==i)return!1;t.removeClass("ec-modal-input-has-error");var n=jQuery(".ec-modal-input-submit-loading"),r=jQuery(".ec-modal-input-submit-label"),o=functions.export_json(),s={action:"template_save_as",lang:a.val(),type:t.val(),email:o};r.hide(),n.show(),e.addClass("ec-clicked"),ajax_request(s,function(t){r.show(),n.hide(),e.removeClass("ec-clicked"),jQuery("#modal-save-as").fadeOut(),iziToast.success({title:"Success!",message:"Saved successfully",position:"bottomRight"})})}),jQuery(document).on("change","#ec-settings-show-product-img",function(){jQuery(this).is(":checked")?jQuery(".ec-settings-product-image").show():jQuery(".ec-settings-product-image").hide()}),jQuery(document).on("click","#save_general_settings",function(){var e=jQuery(this);if("yes"!=e.attr("loading")){e.attr("loading","yes"),e.text("Loading...");var t={action:"save_settings",img_width:jQuery("#ec-settings-product-img-width").val(),img_height:jQuery("#ec-settings-product-img-height").val(),show_img:1==jQuery("#ec-settings-show-product-img").is(":checked")?1:0,show_sku:1==jQuery("#ec-settings-show-product-sku").is(":checked")?1:0,replace_mail:1==jQuery("#ec-settings-replace-mail").is(":checked")?1:0,rtl:1==jQuery("#ec-settings-rtl").is(":checked")?1:0,cell_padding:jQuery("#ec-settings-border-padding").val(),email_type:jQuery("#ec_woo_type").val(),show_custom_shortcode:1==jQuery("#ec-settings-show-custom-shortcode").is(":checked")?1:0,replace_email_type:1==jQuery("#ec-settings-replace-mail-for-type").is(":checked")?1:0,show_meta:1==jQuery("#ec-settings-show-meta").is(":checked")?1:0};check_email_rtl_support(),ajax_request(t,function(t){jQuery("#ec_woo_order").change(),iziToast.success({title:"Success!",message:"Settings saved",position:"bottomRight"}),e.removeAttr("loading"),e.text("Save")},function(){e.removeAttr("loading"),e.text("Save")})}}),jQuery(document).on("click","#save_related_items",function(){var e=jQuery(this);if("yes"!=e.attr("loading")){e.attr("loading","yes"),e.text("Loading...");var t={action:"save_related_items",columns:jQuery("#ec-related-items-columns").val(),count:jQuery("#ec-related-items-count").val(),products_by:jQuery("#ec-related-items-products-by").val(),show_price:1==jQuery("#ec-related-items-show-price").is(":checked")?1:0,show_name:1==jQuery("#ec-related-items-show-name").is(":checked")?1:0,show_image:1==jQuery("#ec-related-items-show-image").is(":checked")?1:0};ajax_request(t,function(t){jQuery("#ec_woo_order").change(),iziToast.success({title:"Success!",message:"Related Items Settings saved",position:"bottomRight"}),e.removeAttr("loading"),e.text("Save")},function(){e.removeAttr("loading"),e.text("Save")})}}),jQuery(document).on("change","#ec-settings-replace-mail-for-type",function(){var e={action:"save_settings_replace_email_type",email_type:jQuery("#ec_woo_type").val(),replace_email_type:1==jQuery("#ec-settings-replace-mail-for-type").is(":checked")?1:0};check_email_rtl_support(),ajax_request(e,function(e){jQuery("#ec_woo_order").change(),iziToast.success({title:"Success!",message:"Settings saved",position:"bottomRight"})})}),jQuery(document).on("click","#save_custom_css",function(){var e={action:"save_custom_css",custom_css:jQuery("#custom_css").val()};ajax_request(e,function(e){jQuery("#page-custom-style").html(jQuery("#custom_css").val()),iziToast.success({title:"Success!",message:"Custom CSS saved",position:"bottomRight"})})}),window.addEventListener("scroll",function(e){window.clearTimeout(isScrolling),isScrolling=setTimeout(function(){window.scrollTo(0,0)},66)},!1),jQuery(document).on("click",".ec-control-help",function(){jQuery(".ec-modal-library-content").show(),jQuery("#modal-help").fadeIn()}),jQuery(document).on("click",".ec-email-preview",function(){var e=jQuery("#modal-preview .ec-modal-library-preview-content-loading"),t=jQuery("#modal-preview .ec-modal-library-preview-content-frame");t.hide(),e.show();var a=jQuery("#ec_woo_type").val(),i=jQuery("#ec_woo_order").val(),n=woo_ec_vars.admin_url+"admin.php?page="+woo_ec_vars.preview+"&ecwoo_render_email=yes&ecwoo_email_type="+a+"&ecwoo_email_order="+i+"&ecwoo_in_popup=true";t.attr("src",n),t.on("load",function(){t.show(),e.hide()}),jQuery("#modal-preview").fadeIn()}),jQuery(document).on("click","#ec-activate-updates-submit",function(){var e=jQuery(this);if(e.hasClass("ec-clicked"))return!1;var t=jQuery("#ec-purchase-code");if(""==t.val())return t.addClass("ec-modal-input-has-error"),!1;t.removeClass("ec-modal-input-has-error");var a=e.find(".ec-modal-input-submit-loading"),i=e.find(".ec-modal-input-submit-label"),n={action:"activate_updates",purchase_code:t.val()};i.hide(),a.show(),e.addClass("ec-clicked"),jQuery("#ec-activate-updates-error").html(""),ajax_request(n,function(){iziToast.success({title:"Updates activated!",message:"",position:"bottomRight"}),i.show(),a.hide(),e.removeClass("ec-clicked"),jQuery("#modal-activate").fadeOut()},function(t){jQuery("#ec-activate-updates-error").html(t.message),i.show(),a.hide(),e.removeClass("ec-clicked")})}),jQuery(document).on("click","#ec-activate-updates-skip",function(){var e=jQuery(this);if(e.hasClass("ec-clicked"))return!1;return ajax_request({action:"skip_activate_updates"},function(){iziToast.success({title:"Activate updates skipped!",message:"",position:"bottomRight"}),e.removeClass("ec-clicked"),jQuery("#modal-activate").fadeOut()},function(){e.removeClass("ec-clicked")}),!1}),jQuery(document).on("click",".ec-export-all",function(e){if(jQuery(this).parents(".ec-control-export").hasClass("ec-preview-header-control-item-disable"))return!1;ajax_request({action:"export_all"},function(e){window.location.href=e.url,jQuery(document).click()})}),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Templates||(t.Templates={}),i=function(e,t,a,i){return'<div class="ec-preview-content-sortable-column" data-settings="yes" data-settings-type="'+a+'" data-id="'+i+'" >  <div class="ec-preview-content-sortable-column-container">    <div class="ec-preview-content-sortable-column-help-text">      '+e+'    </div>    <div class="ec-preview-content-sortable-column-control-list">      <div class="ec-preview-content-sortable-column-control-item" data-type="duplicate">        <i class="ec-duplicate"></i>      </div>      <div class="ec-preview-content-sortable-column-control-item" data-type="delete">        <i class="ec-delete"></i>      </div>      <div class="ec-preview-content-sortable-column-control-item" data-type="move">        <i class="ec-drag"></i>      </div>    </div>    <div class="ec-preview-content-sortable-column-body">      '+t+"    </div>  </div></div>"},n=function(e,t,a,i){return'<div class="ec-preview-content-sortable-row" data-id="'+a+'" data-settings="yes" data-settings-type="row"> <div class="ec-preview-content-sortable-row-container">  <div class="ec-preview-content-sortable-row-help-text">'+e+'  </div>  <div class="ec-preview-content-sortable-row-control-list">    <div class="ec-preview-content-sortable-row-control-item" data-type="duplicate">      <i class="ec-duplicate"></i>    </div>    <div class="ec-preview-content-sortable-row-control-item" data-type="delete">      <i class="ec-delete"></i>    </div>    <div class="ec-preview-content-sortable-row-control-item" data-type="move">      <i class="ec-drag"></i>    </div>  </div>  <div class="ec-preview-content-sortable-row-body" style="width:'+i+'}">'+t+"  </div> </div></div>"},r=function(e,t,a,i,n){return'<li data-id="'+e+'" ><div class="ec-panel-elements-list-item"><div class="ec-panel-elements-list-item-preview"><div class="ec-panel-elements-list-item-icon"><i class="'+a+'"></i></div><div class="ec-panel-elements-list-item-name">'+t+'</div></div><div class="ec-panel-elements-list-item-view" data-url="'+i+'" data-type="'+n+'" data-id="'+e+'"> </div></div></li>'},o=function(e,t,a){return'<div class="ec-panel-accordion-item" data-id="'+e+'"><div class="ec-panel-accordion-title ec-clear">'+t+'<div class="ec-panel-accordion-title-icon"><i class="ec-caret-down"></i></div></div><div class="ec-panel-accordion-content"><ul class="ec-panel-elements-list ec-clear">'+a+"</ul></div></div>"},s=function(e,t,a,i){return'<div class="ec-modal-library-element-item" data-id="'+e+'"><div class="ec-modal-library-element-item-image-container"><div class="ec-modal-library-element-item-image" ><img src="'+t+'"/></div><div class="ec-modal-library-element-item-image-preview"><span><i class="ec-detail"></i></span></div></div><div class="ec-modal-library-element-item-name-container"><div class="ec-modal-library-element-item-name"><span>'+a+'</span></div><div class="ec-modal-library-element-item-name-hover" data-action="load-template" data-id="'+e+'" data-type="blocks"><i class="ec-download"></i><span>'+i+"</span></div></div></div>"},c=function(e){return'<div class=" ec-modal-library-grid-no-data">'+e+"</div>"},l=function(e,t){return'<option value="'+e+'">'+t+"</option>"},d=function(e,t,a,i){return'<div class="ec-modal-library-element-item" data-id="'+e+'"><div class="ec-modal-library-element-item-image-container"><div class="ec-modal-library-element-item-image" style="background-image:url('+t+');height: 17.5em;"></div><div class="ec-modal-library-element-item-image-preview"><span><i class="ec-detail"></i></span></div></div><div class="ec-modal-library-element-item-name-container"><div class="ec-modal-library-element-item-name"><span>'+a+'</span></div><div class="ec-modal-library-element-item-name-hover" data-action="load-template" data-id="'+e+'" data-type="templates"><i class="ec-download"></i><span>'+i+"</span></div></div></div>"},u=function(e){return'<div class=" ec-modal-library-grid-no-data">'+e+"</div>"},p=function(e,t){return'<option value="'+e+'">'+t+"</option>"},m=function(e,t,a,i,n,r,o){return'<div class="ec-modal-library-grid-row" data-id="'+e+'"><div class="ec-modal-library-grid-column ec-modal-library-grid-column-1"><span>'+a+' </span></div><div class="ec-modal-library-grid-column ec-modal-library-grid-column-2"><span>'+t+'</span></div><div class="ec-modal-library-grid-column ec-modal-library-grid-column-3"><div class="ec-modal-library-grid-action-list"><div class="ec-modal-library-grid-action-item ec-modal-library-grid-action-insert"><i class="ec-download"></i><span>'+i+'</span></div><div class="ec-modal-library-grid-action-item ec-modal-library-grid-action-delete"><i class="ec-delete"></i><span>'+r+'</span></div></div><div class="ec-modal-library-grid-action-item ec-modal-library-grid-action-loading"><img src="'+o+'/assets/img/loading.gif" alt="loading" /></div></div></div>'},g=function(e){return'<div class=" ec-modal-library-grid-no-data">'+e+"</div>"},h=function(e,t,a){return'<div class="ec-modal-library-grid-row ec-modal-library-grid-row-header"><div class="ec-modal-library-grid-column ec-modal-library-grid-column-1"><span>'+e+'</span></div><div class="ec-modal-library-grid-column ec-modal-library-grid-column-2"><span>'+t+'</span></div><div class="ec-modal-library-grid-column ec-modal-library-grid-column-3"><span>'+a+"</span></div></div>"},v=function(e,t,a,i){return'<table  dir="'+i+'" bg-color="'+e+'" cellspacing="0"  cellpadding="0" border="0" width="100%" style="width:100%;background-color:'+e+' "><tr dir="'+i+'"><td valign="top" dir="'+i+'"><table dir="'+i+'" role="presentation" cellspacing="0" align="center" cellpadding="0" border="0" width="100%" bg-color="'+e+'" style="background-color:'+e+'"><tr  dir="'+i+'" align="center">  <td valign="top"  align="center" dir="'+i+'">    <div align="center" dir="'+i+'" style="max-width: '+a+'; margin: -5px auto;" class="email-container">     \x3c!--[if mso | IE]>  <table role="presentation" cellspacing="0" align="center" cellpadding="0" border="0" width="'+a+'" bg-color="'+e+'" style="background-color:'+e+' !important"><tr>  <td><![endif]--\x3e     '+t+"      \x3c!--[if mso | IE]></td></tr></table><![endif]--\x3e    </div>  </td></tr></table></td></tr></table>"},y=function(e,t,a){return'<div class="ec-modal-library-grid-row ec-modal-library-grid-row-header no-margin" data-id="'+e+'">  <div class="ec-modal-library-grid-column ec-modal-library-grid-column-4">    <span>['+t+']</span>  </div>  <div class="ec-modal-library-grid-column ec-modal-library-grid-column-8">    <span>'+a+"</span>  </div></div>"},f=function(e,t,a){return'<div class="ec-modal-library-grid-item" data-id="'+e+'">    <div class="ec-modal-library-grid-row">        <div class="ec-modal-library-grid-column ec-modal-library-grid-column-1">          <span>'+t+'</span>        </div>        <div class="ec-modal-library-grid-column ec-modal-library-grid-column-icon">          <i class="ec-caret-down"></i>        </div>    </div>    <div class="ec-modal-library-grid-item-list">'+a+"    </div>  </div>"},b=function(e){return'<div class=" ec-modal-library-grid-no-data ec-modal-library-margin-top ">'+e+"</div>"};_.templateSettings={interpolate:/\{\{(.+?)\}\}/g},a.structure=n,a.element=r,a.element_item=o,a.block=s,a.block_no_data=c,a.block_category=l,a.template=d,a.template_no_data=u,a.template_category=p,a.template_saved=m,a.template_saved_no_data=g,a.template_saved_header=h,a.column=i,a.export_row=v,a.shortcode_item=y,a.shortcode=f,a.shortcode_no_data=b}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={});a.loadJson=function(e,t){jQuery.getJSON(e,function(e){t(e)})},a.loadFile=function(e,t){jQuery.get(e,function(e){t(e)})},a.writeMessage=function(e,t,a){1==i.debug_mode&&(console.log("------BEGIN-------"),console.log("Filename : "+e),console.log("Function name : "+t),console.log("Message :"),console.log(a),console.log("-------END------"),console.log(" "))},a.getURI=function(){var e=window.location,t=e.pathname.substring(0,e.pathname.lastIndexOf("/")+1);return e.href.substring(0,e.href.length-((e.pathname+e.search+e.hash).length-t.length))},a.ajaxGET=function(e){return jQuery.ajax({url:e,dataType:"json",type:"GET"})},a.ajaxGetFile=function(e){return jQuery.ajax({url:e,type:"GET"})},a.rgb2hex=function(e){return void 0===e?"":(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},a.loadFuntions=[]}(this),function(e){var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=woo_ec_vars.plugin_url,r=woo_ec_vars.version,o=n+"/settings/languages.json?v="+r,s=n+"/settings/templates.json?v="+r,c=n+"/settings/templates-saved.json?v="+r,l=n+"/settings/blocks.json?v="+r,d=n+"/settings/tinymce_tags.json?v="+r,u=n+"/settings/elements.json?v="+r,p=n+"/settings/structure.json?v="+r,m=n+"/settings/template.html?v="+r,g=n+"/settings/shortcodes.json?v="+r;i.debug_mode=!1;i.load=function(e,t){jQuery.when(a.ajaxGET(o),a.ajaxGET(s),a.ajaxGET(d),a.ajaxGET(l),a.ajaxGET(u),a.ajaxGET(p),a.ajaxGetFile(m),a.ajaxGetFile(g)).then(function(t,a,n,r,o,s,c,l){i.templates=a[0],i.languages=t[0],i.tinymce_tags=n[0],i.blocks=r[0],i.elements=o[0],i.structure=s[0],i.template_export=c[0],i.shortcodes=l[0],e()},function(e,a,i){t(e,a,i)})},i.dir_saved_templates=c}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=t.Templates||(t.Templates={}),r=function(){return i.elements.list},o=function(e,t){for(var a,i,r,o,s,l=c(e,t),d="",u=0;u<l.length;u++)d+=(a=l[u].id,i=l[u].name,r=l[u].icon,o=l[u].preview,s=l[u].type,n.element(a,i,r,o,s));return d},s=function(e){for(var t,a,r,s=i.elements.category,c="",l=0;l<s.length;l++){var d=o(s[l].id,e);0!=d.length&&(c+=(t=s[l].id,a=s[l].name,r=d,n.element_item(t,a,r)))}return c},c=function(e,t){var a=_.where(t,{category:e});return l(a)},l=function(e){return _.sortBy(e,function(e){return e.order})},d=function(e){a.writeMessage("_helperElements.js","_getSearch"," name: "+e);var t=r(),i=_.filter(t,function(t){return-1!=t.name.toLowerCase().indexOf(e.toLowerCase())});return l(i)},u=function(e){a.writeMessage("_helperElements.js","_getSearchType"," name: "+e);var t=r(),i=_.filter(t,function(t){return t.type==e});return l(i)},p=function(e){a.writeMessage("_helperElements.js","_getSearchId"," name: "+e);var t=r(),i=_.filter(t,function(t){return t.id==e});return l(i)};a.loadFuntions.push(function(){a.elements=a.elements||(a.elements={}),a.elements.generate=s,a.elements.search=d,a.elements.search_type=u,a.elements.search_id=p,a.elements.list=r()})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=t.Templates||(t.Templates={}),r=function(e){return n.shortcode_no_data(e)},o=function(){return i.shortcodes.list},s=function(e,t){for(var a,i,r,o=l(e,t),s="",c=0;c<o.length;c++)s+=(a=o[c].id,i=o[c].name,r=o[c].desc,n.shortcode_item(a,i,r));return s},c=function(e){var t=i.shortcodes.category,a=i.languages.modal_library_no_data;if(null==e)return d=r(a);if(0==e.length)return d=r(a);for(var o,c,l,d="",u=0;u<t.length;u++){var p=s(t[u].id,e);0!=p.length&&(d+=(o=t[u].id,c=t[u].name,l=p,n.shortcode(o,c,l)))}return d},l=function(e,t){var a=_.where(t,{category:e});return d(a)},d=function(e){return _.sortBy(e,function(e){return e.order})},u=function(e){var t=o(),a=_.filter(t,function(t){return-1!=t.name.toLowerCase().indexOf(e.toLowerCase())||-1!=t.desc.toLowerCase().indexOf(e.toLowerCase())});return d(a)},p=function(e){var t=o(),a=_.filter(t,function(t){return t.type==e});return d(a)},m=function(e){var t=o(),a=_.filter(t,function(t){return t.id==e});return d(a)};a.loadFuntions.push(function(){a.shortcodes=a.shortcodes||(a.shortcodes={}),a.shortcodes.generate=c,a.shortcodes.search=u,a.shortcodes.search_type=p,a.shortcodes.search_id=m,a.shortcodes.list=o()})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=t.Templates||(t.Templates={}),r=function(){return i.structure.list},o=function(e,t,a,i){return n.structure(e,t,a,i)},s=function(e){return _.where(r(),{id:e})};a.loadFuntions.push(function(){a.structure=a.structure||(a.structure={}),a.structure.list=r(),a.structure.where=s,a.structure.get_template=o})}(this),function(e){"use strict";var t,a,i,n,r=e.ec_builder||(e.ec_builder={}),o=r.Utils||(r.Utils={}),s=r.Settings||(r.Settings={}),c=r.Templates||(r.Templates={}),l=".ec-preview-content-sortable",d=".ec-structure-element-item",u=".ec-preview-content-sortable-column-empty",p=".ec-preview-content-sortable-column-wrapper",m=".ec-panel-elements-list-item",g=".ec-preview-content-sortable-column",h=".ec-preview-content-sortable-row",v=function(){var e=jQuery(".ec-preview .main-column").length,t="ec-preview-header-control-item-disable";0==e?(jQuery(".ec-control-export").addClass(t),jQuery(".ec-control-save-sub").addClass(t),jQuery(".ec-email-preview").addClass(t)):(jQuery(".ec-control-export").removeClass(t),jQuery(".ec-control-save-sub").removeClass(t),jQuery(".ec-email-preview").removeClass(t));var a=jQuery("#ec_woo_type").val();e>0&&""!=a?jQuery(".ec-control-save").removeClass("ec-control-save-disabled"):jQuery(".ec-control-save").addClass("ec-control-save-disabled")},y=function(e,t){var a=e.parents(t);if(a.parent().hasClass("ui-draggable")){(a=a.parent()).addClass("active");var i=a.clone();i.removeClass("hover active").find(t).removeClass("hover active"),i.insertAfter(".ui-draggable.active"),a.removeClass("active")}else a.addClass("active"),a.clone().removeClass("hover active").insertAfter(t+".active"),a.removeClass("active");setTimeout(function(){_()},1e3)},f=function(e){jQuery("#modal-confirm").fadeIn(),jQuery("#modal-confirm-ok").on("click",function(){e(),jQuery("#modal-confirm").fadeOut()}),jQuery("#modal-confirm-cancel").on("click",function(){jQuery("#modal-confirm").fadeOut()})},b=function(){jQuery(p).each(function(){var e=jQuery(this);e.children().length>1?e.find(u).hide():e.find(u).show()})},j=function(){jQuery(".ec-preview-content-sortable").sortable({placeholder:"ec-row-placeholder",forcePlaceholderSize:!0,handle:'.ec-preview-content-sortable-row-control-item[data-type="move"]',revert:!1,axis:"y"})},Q=function(){jQuery(u).attr("data-label",i)},w=function(){jQuery(d).draggable({connectToSortable:l,helper:"clone",revert:!1,create:function(e,t){},drag:function(e,t){Q()},start:function(e,t){t.helper.find(".ec-structure-element-preview").hide(),t.helper.find(".ec-structure-element-view").show()},stop:function(e,i){var n=jQuery(".ec-preview").attr("data-content-bg-color"),r=i.helper.attr("data-id"),o=C();i.helper.html(t(a,i.helper.find(".ec-structure-element-view").html(),r,C())),i.helper.find(".ec-preview-content-sortable-row-body").css("background-color",n),i.helper.find(".ec-preview-content-sortable-row-body").css("width",o),i.helper.find(".main-row").attr("width",o),jQuery(l).find(d).attr("style",""),k(),_(),jQuery(l).find(d).removeClass(d.replace(".",""))}})},_=function(){jQuery(".ec-preview-content-sortable-column-wrapper").sortable({placeholder:"ec-row-placeholder",connectWith:".ec-preview-content-sortable-column-wrapper",forcePlaceholderSize:!0,handle:'.ec-preview-content-sortable-column-control-item[data-type="move"]',revert:!1,update:function(){b()}})},k=function(){jQuery(m).draggable({connectToSortable:p,helper:"clone",revert:!1,create:function(e,t){},drag:function(e,t){t.helper.css("z-index","11111")},start:function(e,t){t.helper.find(".ec-panel-elements-list-item-preview").show(),t.helper.find(".ec-panel-elements-list-item-view").hide(),jQuery(".ec-preview-content").attr("data-draggable","yes")},stop:function(e,t){var a=t.helper.find(".ec-panel-elements-list-item-view"),i=a.attr("data-id"),n=o.elements.search_id(parseInt(i))[0];t.helper.html(c.column(n.name,a.html(),a.attr("data-type"),i)),t.helper.find(".ec-panel-elements-list-item-preview").hide(),t.helper.find(".ec-panel-elements-list-item-view").show(),jQuery(p).find(m).attr("style",""),jQuery(p).find(m).removeClass(m.replace(".","")),jQuery(".ec-preview-content").removeAttr("data-draggable"),b(),v()}})},x=function(){var e,i=woo_ec_vars.plugin_url;if(void 0===n){var r=o.structure.where(1)[0];e=i+r.url,o.loadFile(e,function(e){n=e,jQuery(".ec-preview-content-sortable").html(t(a,n,1,C())),Q()})}else jQuery(l).html(t(a,n,1,C())),Q();jQuery(".ec-panel-header-icon").click(),k(),_()},C=function(){return jQuery("#settings-email-width").val()+"px"};o.loadFuntions.push(function(){t=o.structure.get_template,a=s.languages.structure_label,i=s.languages.column_empty_label,s.languages.column_label,s.languages.modal_remove_title,s.languages.modal_remove_text,s.languages.modal_remove_confirm_text,s.languages.modal_remove_cancel_text,x(),w(),j(),setTimeout(function(){k(),_()},100)}),o.helper_export_button=v,jQuery(document).on("click",'.ec-preview-content-sortable-row-control-item[data-type="delete"]',function(){var e=jQuery(this);f(function(){var t=e.parents(h);t.parent().hasClass("ui-draggable")?t.parent().remove():t.remove(),0==jQuery(".ec-preview-content-sortable "+h).length&&x(),v(),jQuery(".ec-panel-header-icon").click()})}),jQuery(document).on("click",'.ec-preview-content-sortable-column-control-item[data-type="delete"]',function(){var e=jQuery(this);f(function(){var t=e.parents(".ec-preview-content-sortable-column-wrapper"),a=e.parents(g);a.parent().hasClass("ui-draggable")?a.parent().remove():a.remove(),0==t.find(g+":not("+u+")").length&&t.find(u).show(),v(),jQuery(".ec-panel-header-icon").click()})}),jQuery(document).on("click",'.ec-preview-content-sortable-row-control-item[data-type="duplicate"]',function(){y(jQuery(this),h)}),jQuery(document).on("click",'.ec-preview-content-sortable-column-control-item[data-type="duplicate"]',function(){y(jQuery(this),g)}),o.load_default_row=x,o.remove_modal=f,o.load_column_empty_label=Q,o.draggable_row=w,o.sortable_row=j,o.draggable_column=k,o.sortable_column=_,o.hide_empty_column=b}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=".ec-tab-elements .ec-panel-tab-content-search input";jQuery(document).on("keyup",n,function(e){var t,i;t=jQuery(n).val(),i=a.elements.search(t),jQuery(".ec-tab-elements .ec-panel-accordion").html(a.elements.generate(i)),r(),a.draggable_column(),a.sortable_column()});var r=function(){jQuery(".ec-tab-elements .ec-panel-elements-list-item").each(function(e){!function(e,t){var n=woo_ec_vars.plugin_url,r=woo_ec_vars.version;a.loadFile(n+e.attr("data-url")+"?v="+r,function(a){a=(a=a.split("[plugin-url]").join(n)).split("[site-url]").join(n),function(e,t){for(var a=i.elements.list,n=0;n<a.length;n++)a[n].id==e&&(a[n].content=t)}(t,a),e.html(a)})}(jQuery(this).find(".ec-panel-elements-list-item-view"),jQuery(this).parent().attr("data-id"))})};a.loadFuntions.push(function(){jQuery(".ec-tab-elements .ec-panel-accordion").html(a.elements.generate(a.elements.list)),r()})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={});t.Settings||(t.Settings={});jQuery(document).on("keyup","#library_shortcode_txt",function(e){var t,i;t=jQuery("#library_shortcode_txt").val(),i=a.shortcodes.search(t),jQuery(".ec-modal-library-grid.ec-shortcode-list").html(a.shortcodes.generate(i))});a.loadFuntions.push(function(){jQuery(".ec-modal-library-grid.ec-shortcode-list").html(a.shortcodes.generate(a.shortcodes.list))})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=(t.Settings||(t.Settings={}),".ec-preview"),n=function(){return jQuery(".ec-wrapper").hasClass("ec-panel-right")},r=function(){n()};jQuery(document).on("click",".ec-panel-switcher",function(){var e,t;n()?(e=jQuery(this),(t=e.parents(".ec-wrapper")).hasClass("ec-panel-collapsed")?(t.find(".ec-panel").animate({right:"0"},600),t.find(i).animate({right:"26em",width:"calc(100% - 26em)"},600,function(){t.find(i).css("width","")}),t.find(".ec-builder-header").animate({"margin-right":"312px",width:"calc( 100% - 312px )"},600,function(){t.find(".ec-builder-header").css("width","calc(100% - 312px)"),jQuery(".ec-preview-content").css("margin-top",jQuery(".ec-builder-header").css("height")),window.scrollTo(0,0)}),jQuery(".ec-panel-switcher").animate({right:"26em"},600,function(){jQuery(".ec-panel-switcher").attr("style","")}),t.removeClass("ec-panel-collapsed")):(t.find(".ec-panel").animate({right:"-26em"},600),t.find(i).animate({right:"0",width:"100%"},600),jQuery(".ec-builder-header").animate({"margin-right":"0",width:"100%"},600),jQuery(".ec-panel-switcher").animate({right:"0"},600),t.addClass("ec-panel-collapsed"))):function(e){var t=e.parents(".ec-wrapper"),a="-152px",n="159px";jQuery("body").hasClass("folded")&&(a="-276px",n="36px"),t.hasClass("ec-panel-collapsed")?(t.find(".ec-panel").animate({left:n},600,function(){t.find(".ec-panel").attr("style","")}),t.find(i).animate({"margin-left":"312px",width:"calc(100% - 312px)"},600,function(){t.find(i).css("width","")}),t.find(".ec-builder-header").animate({"margin-left":"312px"},600,function(){t.find(".ec-builder-header").css("width","calc(100% - 312px)"),window.scrollTo(0,0)}),jQuery(".ec-panel-switcher").animate({left:"26em"},600,function(){jQuery(".ec-panel-switcher").attr("style","")}),t.removeClass("ec-panel-collapsed")):(t.find(".ec-panel").animate({left:a},600),t.find(i).animate({"margin-left":"0",width:"100%"},600),t.find(".ec-builder-header").animate({"margin-left":"0",width:"100%"},600),jQuery(".ec-panel-switcher").animate({left:"0"},600),t.addClass("ec-panel-collapsed"))}(jQuery(this))}),jQuery(window).resize(function(){r()}),a.loadFuntions.push(r)}(this),jQuery.fn.hasVerticalScrollBar=function(){return!!this.get(0)&&this.get(0).scrollHeight>this.innerHeight()},function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=(t.Utils||(t.Utils={}),t.Settings||(t.Settings={}),".ec-panel-tab-item"),i=".ec-panel-tab-content-search";jQuery(document).on("click",a,function(){!function(e){e.parents(".ec-panel-tabs").find(a).removeClass("active"),e.addClass("active");var t=e.attr("data-tab-content");jQuery(".ec-panel-tab-content").find(".ec-panel-tab-content-item").removeClass("active").removeClass(" animated fadeInRight fadeInLeft"),jQuery(".ec-panel-tab-content").find('[data-tab="'+t+'"]').addClass("animated fadeIn active")}(jQuery(this))}),jQuery(document).on("click",".ec-panel-header-icon",function(){jQuery(".ec-panel-content").removeClass("ec-active"),jQuery(".ec-tab-elements").addClass("ec-active"),jQuery(i).removeClass(" animated pulse"),setTimeout(function(){if("elements"==jQuery(a+".active").attr("data-tab-content"))return jQuery(i).addClass(" animated pulse"),!1;jQuery(a+'[data-tab-content="elements"]').click()},1),jQuery(".ec-preview-content .selected").removeClass("selected"),jQuery('[data-tab="elements"]').addClass("active")})}(this),function(e){"use strict";var t,a,i,n=e.ec_builder||(e.ec_builder={}),r=(n.Utils||(n.Utils={}),n.Settings||(n.Settings={}),function({_self:e,item:n,title:r,content:o,collapsedClass:s}){t=n,r,a=o,i=s;var c=e.parents(t);c.hasClass(i)?(c.find(a).slideDown(600),c.removeClass(i)):(c.find(a).slideUp(600),c.addClass(i))});jQuery(document).on("click",".ec-panel-accordion-title",function(){r({_self:jQuery(this),item:".ec-panel-accordion-item",title:".ec-panel-accordion-title",content:".ec-panel-accordion-content",collapsedClass:"collapsed"})}),jQuery(document).on("click",".ec-panel-settings-title",function(){r({_self:jQuery(this),item:".ec-panel-settings-item",title:".ec-panel-settings-title",content:".ec-panel-settings-content",collapsedClass:"collapsed"})})}(this),function(e){"use strict";var t,a,i,n=e.ec_builder||(e.ec_builder={}),r=n.Utils||(n.Utils={}),o=n.Settings||(n.Settings={}),s=n.Functions||(n.Functions={}),c=[],l=function(e){for(var n=0;n<t.length;n++){var r=[];r[n]=[],i=t[n];for(var o=0;o<a.length;o++)a[o].group==i&&r[n].push({text:a[o].title,content:a[o].content,onclick:function(){e.insertContent(this.settings.content)}});c[n]={text:i,menu:r[n]}}return c},d=function(){t=o.tinymce_tags.groups,a=o.tinymce_tags.tags,tinymce.init({selector:".ec-panel-content-editor",height:500,theme:"modern",branding:!1,relative_urls:!1,convert_urls:!1,forced_root_block:"div",plugins:" lineheight table  searchreplace autolink directionality  visualblocks visualchars  image link media  codesample  charmap hr    insertdatetime advlist lists textcolor wordcount   imagetools    contextmenu colorpicker textpattern ",toolbar1:" fontselect fontsizeselect  | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat | mybutton | lineheightselect ",fontsize_formats:"8px 10px 12px 14px 16px 18px 20px 24px 36px 48px",target_list:!1,setup:function(e){e.addButton("mybutton",{type:"menubutton",text:"Tag list",icon:!1,menu:l(e)})}})};r.loadFuntions.push(function(){s.tinymce_generate=d})}(this),function(e){"use strict";var t=".ec-panel-settings-align-element";jQuery(document).on("click",t,function(){var e=jQuery(this);e.parents(".ec-panel-settings-align-container").find(t).removeClass("active"),e.addClass("active")})}(),function(e){"use strict";var t=".ec-panel-settings-dimension-list",a=".ec-panel-settings-dimension-item",i="ec-padding-all",n=function(e){var n=e.parents(t);n.hasClass(i)&&n.find(a).find("input").val(e.val())};jQuery(document).on("click",".ec-panel-settings-dimension-button",function(){var e=jQuery(this).parents(t);if(e.hasClass(i))e.removeClass(i),e.find(".ec-panel-settings-dimension-item:not(:eq(0)) input").removeAttr("readonly"),e.find(a).removeClass("active"),e.find(a+":eq(0) ").addClass("active");else{e.addClass(i),e.find(a+":not(:eq(0)) input").attr("readonly","readonly");var n=e.find(".ec-panel-settings-dimension-item:eq(0) input").val();e.find(a+" input").val(n),e.find("input").change()}}),jQuery(document).on("click",a+" input",function(){var e=jQuery(this);e.parents(t).find(a).removeClass("active"),e.parents(a).addClass("active")}),jQuery(document).on("keyup",a+" input",function(){var e=jQuery(this);n(e)}),jQuery(document).on("change",a+" input",function(){var e=jQuery(this);n(e)})}(),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=(t.Settings||(t.Settings={}),t.Functions||(t.Functions={})),n='.ec-tab-styles [data-tab-content="content"]',r='.ec-tab-styles [data-tab-content="style"]',o=function(e,t,i){jQuery(e).css("background-color",i);var n=a.rgb2hex(jQuery(e).css("background-color"));jQuery(e).ColorPicker({color:n,onShow:function(e){},onChange:function(a,i,n){jQuery(e).css("background-color","#"+i),t("#"+i)}})},s=function(){jQuery(n).hide(),jQuery('.ec-tab-styles [data-tab="content"]').hide(),jQuery(".ec-tab-styles .ec-panel-tabs").removeClass("ec-tabs-2").addClass("ec-tabs-1"),jQuery(r).addClass("active"),jQuery('.ec-tab-styles [data-tab="style"]').addClass("active")};jQuery(document).on("click",'[data-settings="yes"]',function(e){e.stopPropagation();var t=jQuery(this),a=t.attr("data-settings-type");switch(jQuery('[data-settings="yes"]').removeClass("selected"),t.addClass("selected"),jQuery(".ec-panel-content").removeClass("ec-active"),jQuery(".ec-tab-styles").addClass("ec-active"),a){case"text":h(),jQuery(n).css("display",""),jQuery('.ec-tab-styles [data-tab="content"]').css("display",""),jQuery(".ec-tab-styles .ec-panel-tabs").removeClass("ec-tabs-1").addClass("ec-tabs-2"),jQuery(r).removeClass("active"),jQuery('.ec-tab-styles [data-tab="style"]').removeClass("active"),jQuery(n).addClass("active"),jQuery('.ec-tab-styles [data-tab="content"]').addClass("active");break;case"button":f(),s();break;case"row":p(),s();break;case"image":_(),s();break;case"spacer":m(),s();break;case"video":w(),s();break;case"social":k(),s();break;case"divider":g(),s();break;default:s()}jQuery(".ec-tab-styles .ec-panel-settings-item").hide(),jQuery(".ec-tab-styles").find('[data-group="'+a+'"]').show()});var c=function(){return jQuery(".ec-preview-content .selected")},l=function(){var e=c();return e.hasClass("ec-preview-content-sortable-row")?e.find(".ec-preview-content-sortable-row-body"):e.find(".ec-preview-content-sortable-column-body")},d=function(e,t){if(void 0===e)return"";if(-1==e.indexOf(";"))return"";for(var a,i=e.split(";"),n=0;n<i.length;n++){var r=i[n].split(":");if(r[0]==t){a=r[1];break}}return a},u=function(e){return l().find(".main-column ."+e)},p=function(){var e,t,a;e="#row-bg-color",t=jQuery(".ec-preview").css("background-color"),void 0===(a=d(c().attr("style"),"background-color"))&&(a=t),""==a&&(a=t),o(e,function(e){c().css("background-color",e)},a),function(e){var t=jQuery(".ec-preview").css("background-color"),a=d(l().attr("style"),"background-color");void 0===a&&(a=t),""==a&&(a=t),o(e,function(e){l().css("background-color",e),l().find(".main-column").css("background-color",e)},a)}("#row-content-color")},m=function(){var e,t,a,i,n,r;e="#spacer-content-bg-color",t=jQuery(".ec-preview").css("background-color"),void 0===(a=d(l().attr("style"),"background-color"))&&(a=t),""==a&&(a=t),o(e,function(e){u("spacer").css("background-color",e)},a),i="#settings-spacer-height",n="#settings-spacer-slider",r=u("spacer").attr("height"),jQuery(i).text(r+"px"),jQuery(n).val(r)},g=function(){var e=u("divider"),t=u("divider .divider-table"),a=t.css("border-top-color");o("#settings-divider-line-color",function(e){jQuery(".ec-preview-content .selected .main-column .divider .divider-table").css("border-top-color",e)},a),jQuery("#settings-divider-line-type").val(t.css("border-top-style"));var i=t.css("border-top-width");jQuery("#settings-divider-line-height-value").text(i),jQuery("#settings-divider-line-height").val(i.replace("px",""));var n=e.attr("align");jQuery("#settings-divider-align .ec-panel-settings-align-element").removeClass("active"),jQuery('#settings-divider-align [data-type="'+n+'"]').addClass("active");var r=e.css("padding-top").replace("px",""),s=e.css("padding-bottom").replace("px",""),c=e.css("padding-left").replace("px",""),l=e.css("padding-right").replace("px","");jQuery('#settings-divider-padding [data-type="top"]').val(r),jQuery('#settings-divider-padding [data-type="bottom"]').val(s),jQuery('#settings-divider-padding [data-type="left"]').val(c),jQuery('#settings-divider-padding [data-type="right"]').val(l);var d=t.attr("width");jQuery("#settings-divider-width-value").text(d),jQuery("#settings-divider-width").val(d.replace("%",""))},h=function(){var e=u("text"),t=e.css("padding-top").replace("px",""),a=e.css("padding-bottom").replace("px",""),i=e.css("padding-left").replace("px",""),n=e.css("padding-right").replace("px","");jQuery('#settings-text-padding [data-type="top"]').val(t),jQuery('#settings-text-padding [data-type="bottom"]').val(a),jQuery('#settings-text-padding [data-type="left"]').val(i),jQuery('#settings-text-padding [data-type="right"]').val(n);var r=e;r.find("[data-shortcode]").each(function(){var e=jQuery(this);e.replaceWith(e.attr("data-shortcode")),e.removeAttr("data-shortcode")}),tinymce.get("content-text-editor").setContent(r.html()),v()},v=function(){var e=u("text"),t=do_shortcode(tinymce.get("content-text-editor").getContent());e.html(t)},y=function(){tinyMCE.get("content-text-editor").on("keyup",function(e,t){v()}),tinyMCE.get("content-text-editor").on("change",function(e,t){v()})},f=function(){var e=u("button-container"),t=u("button-container .button-a"),a=u("button-container .button-table"),i=e.css("padding-top").replace("px",""),n=e.css("padding-bottom").replace("px",""),r=e.css("padding-left").replace("px",""),s=e.css("padding-right").replace("px","");if(jQuery('#settings-button-padding [data-type="top"]').val(i),jQuery('#settings-button-padding [data-type="bottom"]').val(n),jQuery('#settings-button-padding [data-type="left"]').val(r),jQuery('#settings-button-padding [data-type="right"]').val(s),Q(),jQuery("#settings-button-text").val(t.text()),jQuery("#settings-button-url").val(t.attr("data-href")),b(),j(),"margin:auto"==a.attr("style"))jQuery("#settings-button-width-auto").attr("checked","checked"),jQuery("#settings-button-width-row").hide();else{jQuery("#settings-button-width-auto").removeAttr("checked"),jQuery("#settings-button-width-row").show();var c=Math.round(a.width()/e.width()*100);jQuery("#settings-button-width-value").text(c+"%"),jQuery("#settings-button-width-slider").val(c)}var l=a.attr("align");jQuery("#settings-button-align .ec-panel-settings-align-element").removeClass("active"),jQuery('#settings-button-align [data-type="'+l+'"]').addClass("active");var d=t.css("line-height");jQuery("#settings-button-line-height-value").text(d),jQuery("#settings-button-line-height").val(d.replace("px",""));var p=t.css("border-color");o("#settings-button-border-color",function(e){jQuery(".ec-preview-content .selected .main-column .button-container .button-a").css("border-color",e)},p);var m=t.css("border-style");jQuery("#settings-button-border-type").val(m);var g=t.css("border-width");jQuery("#settings-button-border-width-value").text(g),jQuery("#settings-button-border-width").val(g.replace("px","")),jQuery("#settings-button-text").on("keyup",function(e,t){u("button-container .button-a").text(jQuery(this).val())}),jQuery("#settings-button-text").on("change",function(e,t){u("button-container .button-a").text(jQuery(this).val())})},b=function(){var e=u("button-container .button-a"),t=d(e.attr("style"),"background-color");o("#settings-button-bg-color",function(e){jQuery(".ec-preview-content .selected .main-column .button-container .button-a").css("background-color",e),jQuery(".ec-preview-content .selected .main-column .button-container .button-a").css("background-color",e)},t)},j=function(){var e=u("button-container .button-a").css("color");o("#settings-button-text-color",function(e){jQuery(".ec-preview-content .selected .main-column .button-container .button-a").css("color",e)},e)},Q=function(){},w=function(){var e=u("video"),t=u("video .video-a"),a=e.css("padding-top").replace("px",""),i=e.css("padding-bottom").replace("px",""),n=e.css("padding-left").replace("px",""),r=e.css("padding-right").replace("px","");jQuery('#settings-video-padding [data-type="top"]').val(a),jQuery('#settings-video-padding [data-type="bottom"]').val(i),jQuery('#settings-video-padding [data-type="left"]').val(n),jQuery('#settings-video-padding [data-type="right"]').val(r);var o=t.attr("data-href");"#"==o&&(o=""),jQuery("#settings-video-url").val(o)},_=function(){var e=u("image"),t=u("image .img"),a=u("image .image-a"),i=e.css("padding-top").replace("px",""),n=e.css("padding-bottom").replace("px",""),r=e.css("padding-left").replace("px",""),o=e.css("padding-right").replace("px","");jQuery('#settings-image-padding [data-type="top"]').val(i),jQuery('#settings-image-padding [data-type="bottom"]').val(n),jQuery('#settings-image-padding [data-type="left"]').val(r),jQuery('#settings-image-padding [data-type="right"]').val(o);var s=t.attr("alt");jQuery("#settings-image-alt-text").val(s);var c=t.attr("src");jQuery("#settings-image-source-url").val(c);var l=a.attr("data-href");jQuery("#settings-image-url").val(l);var d=e.attr("align");jQuery("#settings-image-align .ec-panel-settings-align-element").removeClass("active"),jQuery('#settings-image-align [data-type="'+d+'"]').addClass("active"),"true"==t.attr("data-auto-width")?(jQuery("#settings-image-width-row").hide(),jQuery("#settings-image-width-auto").attr("checked","checked"),jQuery("#settings-image-width-value").text("100%"),jQuery("#settings-image-width").val("100")):(jQuery("#settings-image-width-row").show(),jQuery("#settings-image-width-auto").removeAttr("checked","checked"),jQuery("#settings-image-width-value").text(t.attr("data-percent")+"%"),jQuery("#settings-image-width").val(t.attr("data-percent")));var p=t.css("height").replace("px","");jQuery("#settings-image-height").val(p),jQuery("<img/>").load(function(){t.attr("data-original-width",this.width),t.attr("data-original-height",this.height)}).attr("src",c)},k=function(){var e=u("social"),t=e.css("padding-top").replace("px",""),a=e.css("padding-bottom").replace("px",""),i=e.css("padding-left").replace("px",""),n=e.css("padding-right").replace("px","");jQuery('#settings-social-padding [data-type="top"]').val(t),jQuery('#settings-social-padding [data-type="bottom"]').val(a),jQuery('#settings-social-padding [data-type="left"]').val(i),jQuery('#settings-social-padding [data-type="right"]').val(n);var r=e.attr("data-icon-type");jQuery("#settings-social-type").val(r);var o=e.attr("data-icon-spacing");jQuery("#settings-social-spacing").val(o),jQuery("#settings-social-spacing-value").text(o+"px");var s=e.attr("align");jQuery("#settings-social-align .ec-panel-settings-align-element").removeClass("active"),jQuery('#settings-social-align [data-type="'+s+'"]').addClass("active"),e.find(".social-icon").each(function(){var e=jQuery(this),t=e.attr("data-type"),a=jQuery('.ec-social-elements .ec-panel-settings-row[data-type="'+t+'"]'),i=a.find(".ec-panel-settings-checkbox"),n=a.find(".ec-panel-settings-input");"none"==e.css("display")?i.removeAttr("checked"):i.attr("checked","checked"),n.val(e.attr("data-href"))}),setTimeout(function(){var e,t,a;jQuery(".ec-social-elements ").sortable({placeholder:"marker",axis:"y",handle:".ec-social-handle",start:function(t,i){e=i.placeholder.index(),a=i.item.outerHeight(!0),i.item.nextAll(".ec-panel-settings-row:not(.marker)").css({transform:"translateY("+a+"px)"}),i.placeholder.css({height:0,padding:0})},change:function(i,n){if(t=n.placeholder.index(),e>t)jQuery(".ec-social-elements .ec-panel-settings-row").slice(t,jQuery(".ec-social-elements .ec-panel-settings-row").length).not(".ui-sortable-helper").each(function(){$(this).css({transform:"translateY("+a+"px)"})});else if(e<t){jQuery(".ec-social-elements .ec-panel-settings-row").slice(e,t).not(".ui-sortable-helper").each(function(){jQuery(this).css({transform:"translateY(0px)"})})}e=t},stop:function(e,t){jQuery(".ui-sortable-handle,.ec-social-elements .ec-panel-settings-row").css({transform:"translateY(0)",left:"",top:"",position:""}),x()}})},100)},x=function(){var e=jQuery("<div/>"),t=u("social");e.html(t.html()),t.html(""),jQuery(".ec-social-elements .ec-panel-settings-row").each(function(){var a=jQuery(this);t.append(e.find('[data-type="'+a.attr("data-type")+'"]'))})};a.loadFuntions.push(function(){o("#settings-bg-color",function(e){jQuery(".ec-preview").css("background-color",e)}),o("#settings-content-color",function(e){jQuery(".ec-preview-content-sortable-row-body").css("background-color",e),jQuery(".ec-preview").attr("data-content-bg-color",e)}),i.settings_text_helper=y,a.helper_settings_video_url=F}),jQuery(document).on("change","#settings-email-width",function(e){var t=jQuery(this),a=jQuery(".ec-preview-content .ec-preview-content-sortable-row-body");a.css("width",t.val()),a.find(".main-row").attr("width",t.val()),jQuery("#settings-email-width-value").text(t.val()),jQuery(".ec-preview-content-sortable-row-body .image .img").each(function(){var e=jQuery(this),a=e.parents(".image"),i=t.val()-parseInt(a.css("padding-left").replace("px",""))-parseInt(a.css("padding-right").replace("px",""));e.css("max-width",i+"px")})}),jQuery(document).on("change","#settings-spacer-slider",function(e){var t=jQuery(this);u("spacer").attr("height",t.val()),jQuery("#settings-spacer-height").text(t.val()+"px")}),jQuery(document).on("change","#settings-divider-line-type",function(e){var t=jQuery(this);u("divider .divider-table").css("border-top-style",t.val())}),jQuery(document).on("change","#settings-divider-line-height",function(e){var t=jQuery(this),a=u("divider .divider-table");jQuery("#settings-divider-line-height-value").text(t.val()+"px"),a.css("border-top-width",t.val()+"px")}),jQuery(document).on("click","#settings-divider-align .ec-panel-settings-align-element",function(e){var t=jQuery(this);u("divider").attr("align",t.attr("data-type"))});var C=function(e,t){var a=e.parents(".ec-padding-all"),i=e.val()+"px";if(0!==a.length)t.css("padding",i);else switch(e.attr("data-type")){case"top":t.css("padding-top",i);break;case"bottom":t.css("padding-bottom",i);break;case"left":t.css("padding-left",i);break;case"right":t.css("padding-right",i)}};jQuery(document).on("change","#settings-divider-padding .ec-padding",function(e){C(jQuery(this),u("divider"))}),jQuery(document).on("keyup","#settings-divider-padding .ec-padding",function(e){C(jQuery(this),u("divider"))}),jQuery(document).on("change","#settings-text-padding .ec-padding",function(e){C(jQuery(this),u("text"))}),jQuery(document).on("keyup","#settings-text-padding .ec-padding",function(e){C(jQuery(this),u("text"))}),jQuery(document).on("change","#settings-divider-width",function(e){var t=jQuery(this),a=u("divider .divider-table");a.css("width",t.val()+"%"),a.attr("width",t.val()+"%"),jQuery("#settings-divider-width-value").text(t.val()+"%")});var S=function(e){u("button-container .button-a").attr("data-href",e.val())};jQuery(document).on("change","#settings-button-url",function(e){S(jQuery(this))}),jQuery(document).on("keyup","#settings-button-url",function(e){S(jQuery(this))}),jQuery(document).on("change","#settings-button-padding .ec-padding",function(e){C(jQuery(this),u("button-container"))}),jQuery(document).on("keyup","#settings-button-padding .ec-padding",function(e){C(jQuery(this),u("button-container"))}),jQuery(document).on("change","#settings-button-width-auto",function(e){jQuery(this).is(":checked")?(jQuery("#settings-button-width-row").hide(),u("button-container .button-table").attr("style","margin:auto")):jQuery("#settings-button-width-row").show()}),jQuery(document).on("change","#settings-button-width-slider",function(e){var t=jQuery(this),a=u("button-container .button-table");"0"!=t.val()&&(jQuery("#settings-button-width-value").text(t.val()+"%"),a.css("width",t.val()+"%"))}),jQuery(document).on("click","#settings-button-align .ec-panel-settings-align-element",function(e){var t=jQuery(this);u("button-container .button-table").attr("align",t.attr("data-type"))}),jQuery(document).on("change","#settings-button-line-height",function(e){var t=jQuery(this),a=u("button-container .button-a");jQuery("#settings-button-line-height-value").text(t.val()+"px"),a.css("line-height",t.val()+"px")}),jQuery(document).on("change","#settings-button-border-type",function(e){var t=jQuery(this);u("button-container .button-a").css("border-style",t.val())}),jQuery(document).on("change","#settings-button-border-width",function(e){var t=jQuery(this),a=u("button-container .button-a");jQuery("#settings-button-border-width-value").text(t.val()+"px"),a.css("border-width",t.val()+"px")}),jQuery(document).on("change","#settings-video-padding .ec-padding",function(e){C(jQuery(this),u("video"))}),jQuery(document).on("keyup","#settings-video-padding .ec-padding",function(e){C(jQuery(this),u("video"))});var T=function(e,t){var a=function(e){if(e.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1)var t="youtube";else RegExp.$3.indexOf("vimeo")>-1&&(t="vimeo");return{type:t,id:RegExp.$6}}(e);"youtube"==a.type?U("https://img.youtube.com/vi/"+a.id+"/hqdefault.jpg",t):"vimeo"==a.type&&jQuery.get("http://vimeo.com/api/v2/video/"+a.id+".json",function(e){U(e[0].thumbnail_large,t)})},U=function(e,t){t.find(".video-image").css("background-image","url('"+e+"')")},F=function(e,t){var a=t.find(".video-a");T(e,t),a.attr("data-href",e)};jQuery(document).on("change","#settings-video-url",function(e){F(jQuery(this).val(),u("video"))}),jQuery(document).on("keyup","#settings-video-url",function(e){F(jQuery(this).val(),u("video"))}),jQuery(document).on("change","#settings-image-alt-text",function(e){var t=jQuery(this);u("image .img").attr("alt",t.val())}),jQuery(document).on("change","#settings-image-source-url",function(e){var t=jQuery(this),a=u("image .img");a.attr("src",t.val()),jQuery("<img/>").load(function(){a.attr("data-original-width",this.width),a.attr("data-original-height",this.height);var e=jQuery("#settings-email-width").val();this.width>e?a.css("width",e):a.css("width",this.width)}).attr("src",t.val())}),jQuery(document).on("keyup","#settings-image-source-url",function(e){var t=jQuery(this);u("image .img").attr("src",t.val())}),jQuery(document).on("change","#settings-image-url",function(e){var t=jQuery(this);u("image .image-a").attr("data-href",t.val())}),jQuery(document).on("change","#settings-image-width",function(e){var t=jQuery(this),a=u("image .img"),i=parseInt(a.attr("data-original-width"),10),n=Math.floor(i*t.val()/100);jQuery("#settings-image-width-value").text(t.val()+"%"),a.css("width",n+"px"),a.attr("width",n+"px"),a.attr("height","auto"),a.css("height","auto"),a.attr("data-percent",t.val()),a.attr("data-percent-width",n)}),jQuery(document).on("change","#settings-image-width-auto",function(e){var t=u("image .img");if(jQuery(this).is(":checked"))jQuery("#settings-image-width-row").hide(),t.css("width",""),t.attr("width",""),t.attr("data-auto-width","true");else{jQuery("#settings-image-width-row").show();var a="";void 0===t.attr("data-percent-width")?a=t.width():(a=t.attr("data-percent-width"),jQuery("#settings-image-width-value").text(t.attr("data-percent")+"%")),t.attr("data-auto-width","false"),t.css("width",a+"px"),t.attr("width",a+"px")}}),jQuery(document).on("change","#settings-image-height",function(e){var t=jQuery(this);u("image .img").css("height",t.val()+"px")}),jQuery(document).on("keyup","#settings-image-height",function(e){var t=jQuery(this);u("image .img").css("height",t.val()+"px")}),jQuery(document).on("change","#settings-image-padding .ec-padding",function(e){C(jQuery(this),u("image")),jQuery(".ec-preview-content-sortable-row-body .image .img").each(function(){var e=jQuery(this),t=e.parents(".image"),a=jQuery("#settings-email-width").val()-parseInt(t.css("padding-left").replace("px",""))-parseInt(t.css("padding-right").replace("px",""));e.css("max-width",a+"px")})}),jQuery(document).on("keyup","#settings-image-padding .ec-padding",function(e){C(jQuery(this),u("image")),jQuery(".ec-preview-content-sortable-row-body .image .img").each(function(){var e=jQuery(this),t=e.parents(".image"),a=jQuery("#settings-email-width").val()-parseInt(t.css("padding-left").replace("px",""))-parseInt(t.css("padding-right").replace("px",""));e.css("max-width",a+"px")})}),jQuery(document).on("click","#settings-image-align .ec-panel-settings-align-element",function(e){var t=jQuery(this);u("image").attr("align",t.attr("data-type"))}),jQuery(document).on("click","#settings-social-align .ec-panel-settings-align-element",function(e){var t=jQuery(this);u("social").attr("align",t.attr("data-type"))}),jQuery(document).on("change","#settings-social-type",function(e){var t=jQuery(this),a=u("social"),i=u("social img"),n=a.attr("data-icon-type");i.each(function(){var e=jQuery(this),a=e.attr("src");e.attr("src",a.replace("/"+n+"/","/"+t.val()+"/"))}),a.attr("data-icon-type",t.val())}),jQuery(document).on("change","#settings-social-padding .ec-padding",function(e){C(jQuery(this),u("social"))}),jQuery(document).on("keyup","#settings-social-padding .ec-padding",function(e){C(jQuery(this),u("social"))}),jQuery(document).on("change","#settings-social-spacing",function(e){var t=jQuery(this),a=u("social"),i=u("social .social-icon");a.attr("align",t.attr("data-type")),i.css("margin","0 "+t.val()+"px"),a.attr("data-icon-spacing",t.val()),jQuery("#settings-social-spacing-value").text(t.val()+"px")}),jQuery(document).on("change",".ec-social-elements .ec-panel-settings-checkbox",function(e){var t=jQuery(this),a=t.parents(".ec-panel-settings-row"),i=u("social");t.is(":checked")?i.find('[data-type="'+a.attr("data-type")+'"]').css("display","inline-block"):i.find('[data-type="'+a.attr("data-type")+'"]').css("display","none")}),jQuery(document).on("change",".ec-social-elements .ec-panel-settings-input",function(e){var t=jQuery(this),a=t.parents(".ec-panel-settings-row");u("social").find('[data-type="'+a.attr("data-type")+'"]').attr("data-href",t.val())})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={});a.loadFuntions.push(function(){jQuery(".ec-structure-element-item").each(function(e){var t=woo_ec_vars.plugin_url,n=jQuery(this),r=n.find(".ec-structure-element-view"),o=parseInt(n.attr("data-id"));!function(e,t,n){a.loadFile(t,function(t){i.structure.list[n].content=t,e.html(t)})}(r,t+a.structure.where(o)[0].url,e)})})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=t.Templates||(t.Templates={}),r=function(e){var t,a="";if(0==e.length)return t=i.languages.modal_library_no_data,a=n.block_no_data(t);for(var r,o,s,c,l=i.languages.modal_library_insert,d=0;d<e.length;d++)a+=(r=e[d].id,o=e[d].thumbnail,s=e[d].name,c=l,n.block(r,o,s,c));return a},o=function(){for(var e=woo_ec_vars.plugin_url,t=woo_ec_vars.version,a=0;a<i.blocks.list.length;a++)null!=i.blocks.list[a].data&&-1==i.blocks.list[a].data.indexOf(e)&&(i.blocks.list[a].data=e+i.blocks.list[a].data+"?v="+t),null!=i.blocks.list[a].preview&&-1==i.blocks.list[a].preview.indexOf(e)&&(i.blocks.list[a].preview=e+i.blocks.list[a].preview+"?v="+t),null!=i.blocks.list[a].thumbnail&&-1==i.blocks.list[a].thumbnail.indexOf(e)&&(i.blocks.list[a].thumbnail=e+i.blocks.list[a].thumbnail+"?v="+t);return i.blocks.list},s=function(e){return _.where(o(),{id:e})},c=function(e,t){var a=o();return-1==e&&0==t.length?a:-1!=e&&0==t.length?_.where(a,{category:e}):-1==e&&0!=t.length?_.filter(a,function(e){return-1!=e.name.toLowerCase().indexOf(t.toLowerCase())}):_.filter(a,function(a){return-1!=a.name.toLowerCase().indexOf(t.toLowerCase())&&a.category==e})};a.loadFuntions.push(function(){a.blocks=a.blocks||(a.blocks={}),a.blocks.list=o(),a.blocks.generate=r,a.blocks.where=s,a.blocks.search=c})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=t.Templates||(t.Templates={}),r=function(e,t){return n.block_category(e,t)};a.loadFuntions.push(function(){a.getBlocksCategory=function(){for(var e=i.blocks.category,t=r("-1",i.languages.modal_library_category),a=0;a<e.length;a++)t+=r(e[a].id,e[a].name);return t}()})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=t.Templates||(t.Templates={}),r=function(e){var t,a="";if(0==e.length)return t=i.languages.modal_library_no_data,a=n.template_no_data(t);for(var r,o,s,c,l=i.languages.modal_library_insert,d=0;d<e.length;d++)a+=(r=e[d].id,o=e[d].thumbnail,s=e[d].name,c=l,n.template(r,o,s,c));return a},o=function(){for(var e=woo_ec_vars.plugin_url,t=woo_ec_vars.version,a=0;a<i.templates.list.length;a++)null!=i.templates.list[a].data&&-1==i.templates.list[a].data.indexOf(e)&&(i.templates.list[a].data=e+i.templates.list[a].data+"?v="+t),null!=i.templates.list[a].preview&&-1==i.templates.list[a].preview.indexOf(e)&&(i.templates.list[a].preview=e+i.templates.list[a].preview+"?v="+t),null!=i.templates.list[a].thumbnail&&-1==i.templates.list[a].thumbnail.indexOf(e)&&(i.templates.list[a].thumbnail=e+i.templates.list[a].thumbnail+"?v="+t);return i.templates.list},s=function(e){return _.where(o(),{id:e})},c=function(e,t){a.writeMessage("_helperTemplate.js","_getSearch","category:"+e+" --- name: "+t);var i=o();return-1==e&&0==t.length?i:-1!=e&&0==t.length?_.where(i,{category:e}):-1==e&&0!=t.length?_.filter(i,function(e){return-1!=e.name.toLowerCase().indexOf(t.toLowerCase())}):_.filter(i,function(a){return-1!=a.name.toLowerCase().indexOf(t.toLowerCase())&&a.category==e})};a.loadFuntions.push(function(){a.templates=a.templates||(a.templates={}),a.templates.list=o(),a.templates.generate=r,a.templates.where=s,a.templates.search=c})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=t.Templates||(t.Templates={}),r=function(e,t){return n.template_category(e,t)};a.loadFuntions.push(function(){a.getTemplatesCategory=function(){for(var e=i.templates.category,t=r("-1",i.languages.modal_library_category),a=0;a<e.length;a++)t+=r(e[a].id,e[a].name);return t}()})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=t.Templates||(t.Templates={}),r=function(e,t,a,i,r,o,s){return n.template_saved(e,t,a,i,r,o,s)},o=function(e){a.writeMessage("_helperTemplateSaved","_generateTemplateList",e);var t,o="";if(0==e.length)return t=i.languages.modal_library_no_data,o=n.template_saved_no_data(t);var s,c,l,d=i.languages.modal_library_insert,u=i.languages.modal_library_delete,p=i.languages.modal_library_preview,m=i.languages.modal_library_column_name,g=i.languages.modal_library_column_date,h=i.languages.modal_library_column_actions,v=woo_ec_vars.plugin_url;s=m,c=g,l=h,o=n.template_saved_header(s,c,l);for(var y=0;y<e.length;y++)o+=r(e[y].id,e[y].date,e[y].name,d,p,u,v);return o},s=function(){return i.saved_templates.list},c=function(e){return _.where(s(),{id:e})},l=function(e){a.writeMessage("_helperTemplateSaved.js","_getSearch"," name: "+e);var t=s();return 0==e.length?t:_.filter(t,function(t){return-1!=t.name.toLowerCase().indexOf(e.toLowerCase())})};a.loadFuntions.push(function(){a.saved_templates=a.saved_templates||(a.saved_templates={}),a.saved_templates.list=s,a.saved_templates.generate=o,a.saved_templates.where=c,a.saved_templates.search=l})}(this),function(){"use strict";var e=".ec-preview-content-sortable-column",t=".ec-preview-content-sortable-row",a=function(e){"yes"!=jQuery(".ec-preview-content").attr("data-draggable")&&e.addClass("hover")},i=function(e){e.removeClass("hover")};jQuery(document).on("mouseover",e,function(e){e.stopPropagation(),a(jQuery(this))}),jQuery(document).on("mouseout",e,function(e){e.stopPropagation(),i(jQuery(this))}),jQuery(document).on("mouseover",t,function(e){e.stopPropagation(),a(jQuery(this))}),jQuery(document).on("mouseout",t,function(e){e.stopPropagation(),i(jQuery(this))})}(),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Functions||(t.Functions={}),n=t.Settings||(t.Settings={}),r=t.Templates||(t.Templates={}),o="ec-header-sub-menu-open",s=".ec-preview-header-control-item",c=-1;jQuery(document).on("click",".ec-preview-header-control-item-icon",function(e){e.preventDefault();var t=jQuery(this).parent();if(t.hasClass("ec-preview-header-control-item-disable"))return!1;c!=t.index()&&jQuery(s).removeClass(o),t.hasClass(o)?t.removeClass(o):t.addClass(o),c=t.index()}),jQuery(document).on("click",function(e){0==jQuery(e.target).parents(".ec-preview-header-control-container").length&&jQuery(s).removeClass(o)}),jQuery(document).on("click",".ec-control-blank",function(e){a.remove_modal(function(){a.load_default_row()})});var l=function(e){void 0===e&&(e=!0);var t="",a=jQuery("<div/>");a.html(jQuery(".ec-preview-content").html()),a.find(".wc-item-downloads").css({margin:"0",padding:"0","list-style":"none"});var i=jQuery("#settings-email-width").val(),n=jQuery(".ec-preview").css("background-color"),o=jQuery("#custom_css").val(),s=jQuery("#ec-settings-rtl").is(":checked")?"rtl":"ltr",c=jQuery("#ec_woo_lang option:selected").attr("lang");1==e&&a.find("[data-shortcode]").each(function(){var e=jQuery(this);e.replaceWith(e.attr("data-shortcode")),e.removeAttr("data-shortcode")}),a.find(".image .img").each(function(){var e=jQuery(this),t=e.css("width").replace("px","").replace("%","");"0"!=t&&e.attr("width",t),e.attr("height",e.css("height"))}),a.find(".button-table").each(function(){var e=jQuery(this),t=e.css("width").replace("px","").replace("%","");"0"==t?e.css("width",""):e.attr("width",t)}),a.find("a").each(function(){var e=jQuery(this),t=e.attr("data-href");"javascript:void(0)"==e.attr("href")&&e.attr("href",""),void 0!==t&&e.attr("href",t)}),a.find(".ec-preview-content-sortable-row").each(function(){var e=jQuery(this),n=e.find(".ec-preview-content-sortable-row-body"),o=n.find(".main-row .main-row-table"),c=e.css("background-color"),l=n.css("background-color");n.find(".main-row").css("background-color",l),n.find(".main-row").each(function(){jQuery(this).attr("width","100%")}),o.each(function(){var e=jQuery(this).find(".main-row-column");e.find(".ec-preview-content-sortable-column").each(function(){var e=jQuery(this),t=e.find(".ec-preview-content-sortable-column-body");e.hasClass("ec-preview-content-sortable-column-empty")&&e.remove(),void 0!==t&&e.html(t.html())}),e.html(e.find(".ec-preview-content-sortable-column-wrapper").html())}),a.find(".main-row-column").each(function(){var e=jQuery(this);""!=e.html().trim()&&0!=e.html().trim().length||e.html("&nbsp;")}),e.html(n.html()),e.html(n.html()),t+=r.export_row(c,n.html(),i+"px",s)});var l={"border-collapse":"collapse","border-spacing":"0px","mso-table-lspace":"0","mso-table-rspace":"0"},u=jQuery("<div />");return u.html(t),u.find("table").css(l),u.find("table td").css(l),d(n,u.html(),o,c,s)},d=function(e,t,a,i,r){return _.templateSettings={interpolate:/\{\{(.+?)\}\}/g},_.template(n.template_export)({email_bg_color:e,email_body:t,custom_css:a,lang:i,direction:r})};jQuery(document).on("click",".ec-export-html",function(e){if(jQuery(this).parents(".ec-control-export").hasClass("ec-preview-header-control-item-disable"))return!1;var t=l(!1),a={action:"export_html",lang:jQuery("#ec_woo_lang").val(),type:jQuery("#ec_woo_type").val(),html:t};ajax_request(a,function(e){window.location.href=e.url,jQuery(document).click()})});var u=function(e,t){var i={};switch(t){case"text":i=function(e){var t={},a=e.find(".main-column .text");return t.paddingTop=a.css("padding-top"),t.paddingBottom=a.css("padding-bottom"),t.paddingLeft=a.css("padding-left"),t.paddingRight=a.css("padding-right"),t.text=a.html(),t}(e);break;case"spacer":i=function(e){var t={},a=e.find(".main-column .spacer");e.find(".ec-preview-content-sortable-column-body");return t.contentColor=a.css("background-color"),t.height=a.attr("height"),t}(e);break;case"divider":i=function(e){var t={},i=e.find(".main-column .divider"),n=e.find(".main-column .divider .divider-table");return t.lineColor=a.rgb2hex(n.css("border-top-color")),t.lineType=n.css("border-top-style"),t.lineHeight=n.css("border-top-width"),t.align=i.attr("align"),t.paddingTop=i.css("padding-top"),t.paddingBottom=i.css("padding-bottom"),t.paddingLeft=i.css("padding-left"),t.paddingRight=i.css("padding-right"),t.width=n.attr("width"),t}(e);break;case"video":i=function(e){var t={},a=e.find(".main-column .video"),i=e.find(".main-column .video .video-a");t.paddingTop=a.css("padding-top"),t.paddingBottom=a.css("padding-bottom"),t.paddingLeft=a.css("padding-left"),t.paddingRight=a.css("padding-right");var n=i.attr("data-href");return"#"==n&&(n=""),t.url=n,t}(e);break;case"image":i=function(e){var t={},a=e.find(".main-column"),i=a.find(".image"),n=a.find(".image .img"),r=a.find(".image .image-a");return t.paddingTop=i.css("padding-top"),t.paddingBottom=i.css("padding-bottom"),t.paddingLeft=i.css("padding-left"),t.paddingRight=i.css("padding-right"),t.altText=n.attr("alt"),t.sourceUrl=n.attr("src"),t.url=r.attr("data-href"),t.align=i.attr("align"),t.height=n.css("height"),t.autoWidth=n.attr("data-auto-width"),t.percentWidth=n.attr("data-percent-width"),t.percent=n.attr("data-percent"),t}(e);break;case"button":i=function(e){var t={},a=e.find(".main-column"),i=a.find(".button-container"),n=a.find(".button-container .button-a"),r=a.find(".button-container .button-table");t.paddingTop=i.css("padding-top"),t.paddingBottom=i.css("padding-bottom"),t.paddingLeft=i.css("padding-left"),t.paddingRight=i.css("padding-right"),t.text=n.html();var o=n.attr("data-href");if(t.url=null==o?"":null==o?"":o,t.backgroundColor=n.css("background-color"),t.color=n.css("color"),t.align=r.attr("align"),t.lineHeight=n.css("line-height"),t.borderColor=n.css("border-color"),t.borderStyle=n.css("border-style"),t.borderWidth=n.css("border-width"),t.width=n.css("border-width"),"margin:auto"==r.attr("style"))t.autoWidth="true",t.width="";else{t.autoWidth="false";var s=r.width();t.width=s+"%"}return t}(e);break;case"social":i=function(e){var t={},a=e.find(".main-column").find(".social");return t.paddingTop=a.css("padding-top"),t.paddingBottom=a.css("padding-bottom"),t.paddingLeft=a.css("padding-left"),t.paddingRight=a.css("padding-right"),t.type=a.attr("data-icon-type"),t.spacing=a.attr("data-icon-spacing")+"px",t.align=a.attr("align"),t.items=[],a.find(".social-icon").each(function(e){var a=jQuery(this),i=a.attr("data-type"),n={};n.type=i,n.order=e+1,"none"==a.css("display")?n.show="no":n.show="yes";var r=a.attr("data-href");n.url=void 0===r?"":""==r?"":r,t.items.push(n)}),t}(e)}return i},p=function(){var e={},t=jQuery("<div/>");t.html(jQuery(".ec-preview-content").html()),t.find("[data-shortcode]").each(function(){var e=jQuery(this);e.replaceWith(e.attr("data-shortcode")),e.removeAttr("data-shortcode")}),t.find("*").removeAttr("rel"),t.find("*").removeAttr("target"),t.find(".wc-item-downloads").css({margin:"0",padding:"0","list-style":"none"});var i=[];t.find(" .ec-preview-content-sortable-row").each(function(){var e=jQuery(this),t=e.find(".ec-preview-content-sortable-row-body"),a=(t.find(".main-row .main-row-column"),t.find(".main-row .main-row-table")),n={};n.id=e.attr("data-id"),n.columns=[];var r=1;a.each(function(){var e=jQuery(this),t={};t.name="column"+r,t.elements=[],e.find(".ec-preview-content-sortable-column").each(function(){var e=jQuery(this);if(!e.hasClass("ec-preview-content-sortable-column-empty")){var a={},i=e.attr("data-settings-type"),n=e.attr("data-id");a.type=i,a.id=n,a.options=u(e,i),t.elements.push(a)}}),n.columns.push(t),r++}),n.options={},n.options.backgroundColor=e.css("background-color"),n.options.contentColor=t.css("background-color"),i.push(n)}),e.rows=i;var n={};return n.width=jQuery("#settings-email-width").val()+"px",n.backgroundColor=a.rgb2hex(jQuery("#settings-bg-color").css("background-color")),n.contentColor=a.rgb2hex(jQuery("#settings-content-color").css("background-color")),e.settings=n,e.html=l(),JSON.stringify(e)};jQuery(document).on("click",".ec-export-json",function(e){if(jQuery(this).parents(".ec-control-export").hasClass("ec-preview-header-control-item-disable"))return!1;var t=p(),a={action:"export_json",lang:jQuery("#ec_woo_lang").val(),type:jQuery("#ec_woo_type").val(),json:t};ajax_request(a,function(e){window.location.href=e.url,jQuery(document).click()})});var m=function(e){jQuery(".ec-preview").css("background-color",e.backgroundColor),jQuery("#settings-bg-color").css("background-color",e.backgroundColor),jQuery("#settings-content-color").css("background-color",e.contentColor),jQuery(".ec-preview").attr("data-content-bg-color",e.contentColor),jQuery(".ec-preview-content-sortable-row-body").each(function(){var t=jQuery(this),i=function(e,t){if(void 0===e)return"";if(-1==e.indexOf(";"))return"";for(var i,n=e.split(";"),r=0;r<n.length;r++){var o=n[r].split(":");if(o[0]==t){i=o[1];break}}return a.rgb2hex(i)}(t.attr("style"),"background-color");void 0!==i&&""!=i&&t.css("background-color",e.contentColor)});var t=parseInt(e.width),i=jQuery(".ec-preview-content .ec-preview-content-sortable-row-body");i.css("width",e.width),i.find(".main-row").attr("width",e.width),jQuery("#settings-email-width-value").text(t),jQuery("#settings-email-width").val(t)},g=function(e,t){var i=jQuery("<div/>"),n=a.elements.search_id(t)[0];i.html(r.column(n.name,n.content,n.type,n.id));var o=i.find(".text");return o.css("padding-top",e.paddingTop),o.css("padding-bottom",e.paddingBottom),o.css("padding-left",e.paddingLeft),o.css("padding-right",e.paddingRight),o.html(e.text),i.html()},h=function(e,t){var i=jQuery("<div/>"),n=a.elements.search_id(t)[0];i.html(r.column(n.name,n.content,n.type,n.id));var o=i.find(".spacer");i.find(".ec-preview-content-sortable-column-body");return o.css("background-color",e.contentColor),o.attr("height",e.height),o.html(e.text),i.html()},v=function(e,t){var i=jQuery("<div/>"),n=a.elements.search_id(t)[0];i.html(r.column(n.name,n.content,n.type,n.id));var o=i.find(".video"),s=i.find(".video .video-a");return o.css("padding-top",e.paddingTop),o.css("padding-bottom",e.paddingBottom),o.css("padding-left",e.paddingLeft),o.css("padding-right",e.paddingRight),void 0!==e.url&&(s.attr("data-href",e.url),a.helper_settings_video_url(e.url,o)),i.html()},y=function(e,t){var i=jQuery("<div/>"),n=a.elements.search_id(t)[0];i.html(r.column(n.name,n.content,n.type,n.id));var o=i.find(".button-container"),s=i.find(".button-container .button-a"),c=i.find(".button-container .button-table"),l=i.find(".button-container .button-td");return o.css("padding-top",e.paddingTop),o.css("padding-bottom",e.paddingBottom),o.css("padding-left",e.paddingLeft),o.css("padding-right",e.paddingRight),s.html(e.text),s.attr("data-href",e.url),s.css("background-color",e.backgroundColor),l.css("background-color",e.backgroundColor),s.css("color",e.color),1==e.autoWidth?c.attr("style","margin:auto"):c.attr("style","margin:auto;width:"+e.width),c.attr("align",e.align),s.css("line-height",e.lineHeight),s.css("border-color",e.borderColor),s.css("border-style",e.borderStyle),s.css("border-width",e.borderWidth),i.html()},f=function(e,t){var i=jQuery("<div/>"),n=a.elements.search_id(t)[0];i.html(r.column(n.name,n.content,n.type,n.id));var o=i.find(".image"),s=i.find(".image .img"),c=i.find(".image .image-a");return o.css("padding-top",e.paddingTop),o.css("padding-bottom",e.paddingBottom),o.css("padding-left",e.paddingLeft),o.css("padding-right",e.paddingRight),s.attr("alt",e.altText),s.attr("src",e.sourceUrl),c.attr("data-href",e.url),o.attr("align",e.align),"true"==e.autoWidth?(s.css("width",""),s.attr("data-percent","100")):(s.css("width",e.percentWidth),s.attr("width",e.percentWidth)),s.attr("data-percent-width",e.percentWidth),s.attr("data-percent",e.percent),s.attr("data-auto-width",e.autoWidth),i.html()},b=function(e,t){var i=jQuery("<div/>"),n=a.elements.search_id(t)[0];i.html(r.column(n.name,n.content,n.type,n.id));var o=i.find(".divider"),s=i.find(".divider .divider-table");return o.css("padding-top",e.paddingTop),o.css("padding-bottom",e.paddingBottom),o.css("padding-left",e.paddingLeft),o.css("padding-right",e.paddingRight),s.css("border-top-color",e.lineColor),s.css("border-top-style",e.lineType),s.css("border-top-width",e.lineHeight),o.attr("align",e.align),s.css("width",e.width),s.attr("width",e.width),i.html()},j=function(e,t){var i=jQuery("<div/>"),n=a.elements.search_id(t)[0];i.html(r.column(n.name,n.content,n.type,n.id));var o=i.find(".social"),s=o.find(".social-icon"),c=o.find("img");o.css("padding-top",e.paddingTop),o.css("padding-bottom",e.paddingBottom),o.css("padding-left",e.paddingLeft),o.css("padding-right",e.paddingRight);var l=o.attr("data-icon-type");c.each(function(){var t=jQuery(this),a=t.attr("src");t.attr("src",a.replace("/"+l+"/","/"+e.type+"/"))}),o.attr("data-icon-type",e.type),o.attr("data-icon-spacing",e.spacing.replace("px","")),s.css("margin","0 "+e.spacing),o.attr("align",e.align);for(var d=e.items,u=0;u<d.length;u++){var p=o.find('.social-icon[data-type="'+d[u].type+'"]');"no"==d[u].show?p.css("display","none"):p.css("display","inline-block"),p.attr("data-href",d[u].url)}return Q(d,o),i.html()},Q=function(e,t){var a=_.sortBy(e,function(e){return e.order}),i=jQuery("<div/>");i.html(t.html()),t.html("");for(var n=0;n<a.length;n++)t.append(i.find('[data-type="'+a[n].type+'"]'))},w=function(e,t){var i=(e=jsonParse(e)).settings,r=jQuery("<div/>"),o=e.rows,s=n.languages.structure_label;ec_woo_debug&&console.log(o);for(var c=0;c<o.length;c++){"";var l=parseInt(o[c].id),d=a.structure.where(l)[0],u=jQuery("<div/>");u.html(a.structure.get_template(s,d.content,d.id,i.width));var p=o[c].columns;u.find(".main-row-table").each(function(e){for(var t=jQuery(this).find(".ec-preview-content-sortable-column-wrapper"),a=p[e].elements,i="",n=0;n<a.length;n++){var r=parseInt(a[n].id),o=a[n].options;switch(a[n].type){case"spacer":i+=h(o,r);break;case"text":i+=g(o,r);break;case"divider":i+=b(o,r);break;case"button":i+=y(o,r);break;case"social":i+=j(o,r);break;case"video":i+=v(o,r);break;case"image":i+=f(o,r)}}t.append(i)}),u.find(".ec-preview-content-sortable-row").css("background-color",o[c].options.backgroundColor),u.find(".ec-preview-content-sortable-row-body").css("background-color",o[c].options.contentColor),u.find(".main-column").css("background-color",o[c].options.contentColor),r.append(u.html())}1==t?(jQuery(".ec-preview-content-sortable").html(r.html()),m(i)):jQuery(".ec-preview-content-sortable").append(r.html()),a.load_column_empty_label(),a.draggable_row(),a.sortable_row(),a.draggable_column(),a.sortable_column(),a.hide_empty_column(),a.helper_export_button(),make_image_proper_size()};jQuery(document).on("click",".ec-control-preview",function(e){jQuery(this);var t=jQuery("#header-menu-main"),a=jQuery("#header-menu-preview");t.slideUp(300,function(){a.slideDown(300),jQuery(".ec-preview-header").removeClass("active"),a.addClass("active")}),jQuery(".ec-panel-switcher").click()}),jQuery(document).on("click",".ec-control-back",function(e){jQuery(this);var t=jQuery("#header-menu-main");jQuery("#header-menu-preview").slideUp(300,function(){t.slideDown(300),jQuery(".ec-preview-header").removeClass("active"),t.addClass("active")}),jQuery(".ec-panel-switcher").click()});a.loadFuntions.push(function(){i.export_json=p,i.export_html=l,i.import_json=w})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={});t.Settings||(t.Settings={});a.loadFuntions.push(function(){jQuery(".ec-preview-header").find("[data-title]").each(function(){var e=jQuery(this);e.addClass("ec-tooltip");var t=e.attr("data-title");e.append("<div class=ec-tooltip-text>"+t+"</div>")})})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=(t.Settings||(t.Settings={}),t.Functions||(t.Functions={})),n=".ec-modal-library-tabs-item",r="#modal-library-templates .ec-modal-library-element-list",o="#ec-modal-library-toolbar-category-selector",s="#modal-library-templates  .ec-modal-library-toolbar-search-input",c="#modal-library-blocks .ec-modal-library-element-list",l="#modal-library-blocks .ec-modal-library-toolbar-category-selector",d="#modal-library-blocks  .ec-modal-library-toolbar-search-input",u="#modal-library-my-templates  .ec-modal-library-toolbar-search-input",p=".ec-modal-library-content",m=".ec-modal-library-preview",g=".ec-modal-library-preview-content-frame";jQuery(document).on("click",".ec-control-templates",function(e){load_saved_templates(),jQuery(this).parents(".ec-modal-library").find(n).eq(2).click(),jQuery(m).hide(),jQuery(p).show(),jQuery("#modal-library").fadeIn()});var h=function(){jQuery("#modal-library").fadeOut()};jQuery(document).on("click",'.ec-modal-library [data-type="close"]',function(e){jQuery(this).parents(".ec-modal-library").fadeOut()}),jQuery(document).on("click",n,function(e){var t=jQuery(this);if(0!=t.parents("#modal-preview").length)return!1;var a=t.attr("data-content");t.parents(".ec-modal-library").find(n).removeClass("active"),t.parents(".ec-modal-library").find(".ec-modal-library-tab-content-item").removeClass("active"),t.addClass("active"),t.parents(".ec-modal-library").find(a).addClass("active")}),jQuery(document).on("click",".ec-modal-library-preview-back",function(e){jQuery(m).hide(),jQuery(p).show()});var v=function(){var e=jQuery(o).val(),t=jQuery(s).val(),i=a.templates.search(parseInt(e),t);jQuery(r).html(a.templates.generate(i))};jQuery(document).on("change",o,function(e){v()}),jQuery(document).on("keyup",s,function(e){v()});var y=function(e,t,a){jQuery(".ec-modal-library-preview-actions-insert").attr("data-type",t),jQuery(".ec-modal-library-preview-actions-insert").attr("data-id",e),jQuery(".ec-modal-library-preview-content-loading").show(),jQuery(g).hide(),jQuery(g).attr("src",a),jQuery(g).on("load",function(){jQuery(g).show(),jQuery(".ec-modal-library-preview-content-loading").hide(),f()})},f=function(){var e=jQuery(".ec-modal-library-preview-content-frame").contents();e.find('.ec-preview-content-sortable-column[data-settings-type="text"]').each(function(){var e=jQuery(this),t=do_shortcode(e.html());e.html(t)}),e.find("[data-shortcode]").each(function(){jQuery(this).removeAttr("data-shortcode")})};jQuery(document).on("click","#modal-library-templates  .ec-modal-library-element-item-image-preview",function(e){var t=jQuery(this);jQuery(p).hide();var i=parseInt(t.parents("#modal-library-templates .ec-modal-library-element-item").attr("data-id")),n=a.templates.where(i)[0].preview;y(i,"templates",n),jQuery(m).show()});var b=function(){var e=jQuery(l).val(),t=jQuery(d).val(),i=a.blocks.search(parseInt(e),t);jQuery(c).html(a.blocks.generate(i))};jQuery(document).on("change",l,function(e){b()}),jQuery(document).on("keyup",d,function(e){b()}),jQuery(document).on("click","#modal-library-blocks  .ec-modal-library-element-item-image-preview",function(e){var t=jQuery(this);jQuery(p).hide();var i=parseInt(t.parents("#modal-library-blocks .ec-modal-library-element-item").attr("data-id")),n=a.blocks.where(i)[0].preview;y(i,"blocks",n),jQuery(m).show()}),jQuery(document).on("keyup",u,function(e){j()});var j=function(){var e=jQuery(u).val(),t=a.saved_templates.search(e);jQuery("#modal-library-my-templates .ec-modal-library-grid").html(a.saved_templates.generate(t))};a.loadFuntions.push(function(){jQuery(o).html(a.getTemplatesCategory),jQuery(r).html(a.templates.generate(a.templates.list)),jQuery(l).html(a.getBlocksCategory),jQuery(c).html(a.blocks.generate(a.blocks.list))});jQuery(document).on("click",'.ec-modal-library [data-action="load-template"]',function(e){var t,n,r=jQuery(this),o=r.attr("data-type"),s=parseInt(r.attr("data-id"));switch(o){case"blocks":t=s,n=a.blocks.where(t)[0],a.loadFile(n.data,function(e){i.import_json(e,!1),h()});break;case"templates":jQuery(".ec-preview-content-sortable .ec-preview-content-sortable-row").remove(),function(e){var t=a.templates.where(e)[0];a.loadFile(t.data,function(e){i.import_json(e,!1),h(),generate_shortcode_for_all_text()})}(s)}})}(this),function(){"use strict";jQuery(document).on("click",'[data-has-modal="true"]',function(e){var t=jQuery(this).attr("data-modal");jQuery(".ec-modal-input").val(""),jQuery("#ec-import-all-filename,#ec-import-filename").text(""),jQuery("#ec-modal-input-submit").removeClass(".ec-clicked"),jQuery("#ec-modal-input-submit").find(".ec-modal-input-submit-label").show(),jQuery("#ec-modal-input-submit").find(".ec-modal-input-submit-loading").hide(),jQuery(".ec-modal-input").removeClass("ec-modal-input-has-error"),jQuery("#ec-import-all-file-error").hide(),jQuery(t).fadeIn()}),jQuery(document).on("click",".ec-modal-close",function(e){var t=jQuery(this).parents(".ec-modal");jQuery(t).fadeOut()}),jQuery(document).on("click",".ec-modal-file-label",function(e){jQuery(".ec-modal-file-input").focus()}),jQuery(document).on("change",".ec-modal-file-input",function(e){var t=jQuery(this).attr("data-change-label"),a=e.target.files[0].name;jQuery(".ec-modal-input-container").addClass("active"),jQuery(t).text(a)})}(),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={});t.Utils||(t.Utils={}),t.Settings||(t.Settings={});jQuery(function(){})}(this),function(e){"use strict";var t=e.ec_builder||(e.ec_builder={}),a=t.Utils||(t.Utils={}),i=t.Settings||(t.Settings={}),n=function(){for(var e=0;e<a.loadFuntions.length;e++)a.loadFuntions[e]()},r=function(e,t,a){};jQuery(function(){i.load(n,r)})}(this);var builder_1=this.ec_builder||(this.ec_builder={}),utils_1=builder_1.Utils||(builder_1.Utils={}),settings_1=builder_1.Settings||(builder_1.Settings={}),templates_1=builder_1.Templates||(builder_1.Templates={}),load_saved_templates=function(e){var t=jQuery("#modal-library-my-templates .ec-modal-library-grid");t.html(templates_1.template_saved_no_data("Loading..."));ajax_request({action:"template_load_saved"},function(a){this.builder_1.Settings.saved_templates=a.data,t.html(utils_1.saved_templates.generate(utils_1.saved_templates.list())),void 0!==e&&e()})};